{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar types_1 = require(\"./types\");\n\nvar INCREASE_KEYS = ['ArrowRight', 'ArrowUp', 'k', 'PageUp'];\nvar DECREASE_KEYS = ['ArrowLeft', 'ArrowDown', 'j', 'PageDown'];\n\nvar Range =\n/** @class */\nfunction (_super) {\n  __extends(Range, _super);\n\n  function Range(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.trackRef = React.createRef();\n    _this.thumbRefs = [];\n    _this.markRefs = [];\n    _this.state = {\n      draggedTrackPos: [-1, -1],\n      draggedThumbIndex: -1,\n      thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) {\n        return i;\n      }),\n      isChanged: false,\n      markOffsets: []\n    };\n\n    _this.getOffsets = function () {\n      var _a = _this.props,\n          direction = _a.direction,\n          values = _a.values,\n          min = _a.min,\n          max = _a.max;\n      var trackElement = _this.trackRef.current;\n      var trackRect = trackElement.getBoundingClientRect();\n      var trackPadding = utils_1.getPaddingAndBorder(trackElement);\n      return _this.getThumbs().map(function (thumb, index) {\n        var thumbOffsets = {\n          x: 0,\n          y: 0\n        };\n        var thumbRect = thumb.getBoundingClientRect();\n        var thumbMargins = utils_1.getMargin(thumb);\n\n        switch (direction) {\n          case types_1.Direction.Right:\n            thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n            thumbOffsets.x += trackRect.width * utils_1.relativeValue(values[index], min, max) - thumbRect.width / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Left:\n            thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n            thumbOffsets.y = ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n            thumbOffsets.x += trackRect.width - trackRect.width * utils_1.relativeValue(values[index], min, max) - thumbRect.width / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Up:\n            thumbOffsets.x = ((thumbRect.width - trackRect.width) / 2 + thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = -trackPadding.left;\n            thumbOffsets.y += trackRect.height - trackRect.height * utils_1.relativeValue(values[index], min, max) - thumbRect.height / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Down:\n            thumbOffsets.x = ((thumbRect.width - trackRect.width) / 2 + thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = -trackPadding.left;\n            thumbOffsets.y += trackRect.height * utils_1.relativeValue(values[index], min, max) - thumbRect.height / 2;\n            return thumbOffsets;\n\n          default:\n            return utils_1.assertUnreachable(direction);\n        }\n      });\n    };\n\n    _this.getThumbs = function () {\n      if (_this.trackRef && _this.trackRef.current) {\n        return Array.from(_this.trackRef.current.children).filter(function (el) {\n          return el.hasAttribute('aria-valuenow');\n        });\n      }\n\n      console.warn('No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?');\n      return [];\n    };\n\n    _this.getTargetIndex = function (e) {\n      return _this.getThumbs().findIndex(function (child) {\n        return child === e.target || child.contains(e.target);\n      });\n    };\n\n    _this.addTouchEvents = function (e) {\n      document.addEventListener('touchmove', _this.schdOnTouchMove, {\n        passive: false\n      });\n      document.addEventListener('touchend', _this.schdOnEnd, {\n        passive: false\n      });\n      document.addEventListener('touchcancel', _this.schdOnEnd, {\n        passive: false\n      });\n    };\n\n    _this.addMouseEvents = function (e) {\n      document.addEventListener('mousemove', _this.schdOnMouseMove);\n      document.addEventListener('mouseup', _this.schdOnEnd);\n    };\n\n    _this.onMouseDownTrack = function (e) {\n      var _a;\n\n      if (e.button !== 0) return;\n      e.persist();\n      e.preventDefault();\n\n      _this.addMouseEvents(e.nativeEvent);\n\n      if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n        if (_this.thumbRefs.some(function (thumbRef) {\n          var _a;\n\n          return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target);\n        })) return; // handle dragging the whole track\n\n        _this.setState({\n          draggedTrackPos: [e.clientX, e.clientY]\n        }, function () {\n          return _this.onMove(e.clientX, e.clientY);\n        });\n      } else {\n        // get the index of the thumb that is closest to the place where the track is clicked\n        var draggedThumbIndex = utils_1.getClosestThumbIndex(_this.thumbRefs.map(function (t) {\n          return t.current;\n        }), e.clientX, e.clientY, _this.props.direction); // move the thumb which is closest to the place where the track is clicked\n\n        (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n\n        _this.setState({\n          draggedThumbIndex: draggedThumbIndex\n        }, function () {\n          return _this.onMove(e.clientX, e.clientY);\n        });\n      }\n    };\n\n    _this.onResize = function () {\n      utils_1.translateThumbs(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n\n      _this.calculateMarkOffsets();\n    };\n\n    _this.onTouchStartTrack = function (e) {\n      var _a;\n\n      e.persist();\n\n      _this.addTouchEvents(e.nativeEvent);\n\n      if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n        if (_this.thumbRefs.some(function (thumbRef) {\n          var _a;\n\n          return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target);\n        })) return; // handle dragging the whole track\n\n        _this.setState({\n          draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY]\n        }, function () {\n          return _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        });\n      } else {\n        // get the index of the thumb that is closest to the place where the track is clicked\n        var draggedThumbIndex = utils_1.getClosestThumbIndex(_this.thumbRefs.map(function (t) {\n          return t.current;\n        }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction); // move the thumb which is closest to the place where the track is clicked\n\n        (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n\n        _this.setState({\n          draggedThumbIndex: draggedThumbIndex\n        }, function () {\n          return _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        });\n      }\n    };\n\n    _this.onMouseOrTouchStart = function (e) {\n      if (_this.props.disabled) return;\n      var isTouch = utils_1.isTouchEvent(e);\n      if (!isTouch && e.button !== 0) return;\n\n      var index = _this.getTargetIndex(e);\n\n      if (index === -1) return;\n\n      if (isTouch) {\n        _this.addTouchEvents(e);\n      } else {\n        _this.addMouseEvents(e);\n      }\n\n      _this.setState({\n        draggedThumbIndex: index,\n        thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n          if (i === index) {\n            return Math.max.apply(Math, _this.state.thumbZIndexes);\n          }\n\n          return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n        })\n      });\n    };\n\n    _this.onMouseMove = function (e) {\n      e.preventDefault();\n\n      _this.onMove(e.clientX, e.clientY);\n    };\n\n    _this.onTouchMove = function (e) {\n      e.preventDefault();\n\n      _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n    };\n\n    _this.onKeyDown = function (e) {\n      var _a = _this.props,\n          values = _a.values,\n          onChange = _a.onChange,\n          step = _a.step,\n          rtl = _a.rtl;\n      var isChanged = _this.state.isChanged;\n\n      var index = _this.getTargetIndex(e.nativeEvent);\n\n      var inverter = rtl ? -1 : 1;\n      if (index === -1) return;\n\n      if (INCREASE_KEYS.includes(e.key)) {\n        e.preventDefault();\n\n        _this.setState({\n          draggedThumbIndex: index,\n          isChanged: true\n        });\n\n        onChange(utils_1.replaceAt(values, index, _this.normalizeValue(values[index] + inverter * (e.key === 'PageUp' ? step * 10 : step), index)));\n      } else if (DECREASE_KEYS.includes(e.key)) {\n        e.preventDefault();\n\n        _this.setState({\n          draggedThumbIndex: index,\n          isChanged: true\n        });\n\n        onChange(utils_1.replaceAt(values, index, _this.normalizeValue(values[index] - inverter * (e.key === 'PageDown' ? step * 10 : step), index)));\n      } else if (e.key === 'Tab') {\n        _this.setState({\n          draggedThumbIndex: -1\n        }, function () {\n          // If key pressed when thumb was moving, fire onFinalChange\n          if (isChanged) {\n            _this.fireOnFinalChange();\n          }\n        });\n      } else {\n        if (isChanged) {\n          _this.fireOnFinalChange();\n        }\n      }\n    };\n\n    _this.onKeyUp = function (e) {\n      var isChanged = _this.state.isChanged;\n\n      _this.setState({\n        draggedThumbIndex: -1\n      }, function () {\n        if (isChanged) {\n          _this.fireOnFinalChange();\n        }\n      });\n    };\n\n    _this.onMove = function (clientX, clientY) {\n      var _a = _this.state,\n          draggedThumbIndex = _a.draggedThumbIndex,\n          draggedTrackPos = _a.draggedTrackPos;\n      var _b = _this.props,\n          direction = _b.direction,\n          min = _b.min,\n          max = _b.max,\n          onChange = _b.onChange,\n          values = _b.values,\n          step = _b.step,\n          rtl = _b.rtl;\n      if (draggedThumbIndex === -1 && draggedTrackPos[0] === -1 && draggedTrackPos[1] === -1) return null;\n      var trackElement = _this.trackRef.current; // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n\n      if (!trackElement) return null;\n      var trackRect = trackElement.getBoundingClientRect();\n      var trackLength = utils_1.isVertical(direction) ? trackRect.height : trackRect.width;\n\n      if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n        // calculate how much it moved since the last update\n        var dX = clientX - draggedTrackPos[0];\n        var dY = clientY - draggedTrackPos[1]; // calculate the delta of the value\n\n        var deltaValue = 0;\n\n        switch (direction) {\n          case types_1.Direction.Right:\n          case types_1.Direction.Left:\n            deltaValue = dX / trackLength * (max - min);\n            break;\n\n          case types_1.Direction.Down:\n          case types_1.Direction.Up:\n            deltaValue = dY / trackLength * (max - min);\n            break;\n\n          default:\n            utils_1.assertUnreachable(direction);\n        } // invert for RTL\n\n\n        if (rtl) {\n          deltaValue *= -1;\n        }\n\n        if (Math.abs(deltaValue) >= step / 2) {\n          // adjust delta so it fits into the range\n          for (var i = 0; i < _this.thumbRefs.length; i++) {\n            if (values[i] === max && Math.sign(deltaValue) === 1 || values[i] === min && Math.sign(deltaValue) === -1) return;\n            var thumbValue = values[i] + deltaValue;\n            if (thumbValue > max) deltaValue = max - values[i];else if (thumbValue < min) deltaValue = min - values[i];\n          } // add the delta to each thumb\n\n\n          var newValues = values.slice(0);\n\n          for (var i = 0; i < _this.thumbRefs.length; i++) {\n            newValues = utils_1.replaceAt(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n          }\n\n          _this.setState({\n            draggedTrackPos: [clientX, clientY]\n          });\n\n          onChange(newValues);\n        }\n      } else {\n        var newValue = 0;\n\n        switch (direction) {\n          case types_1.Direction.Right:\n            newValue = (clientX - trackRect.left) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Left:\n            newValue = (trackLength - (clientX - trackRect.left)) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Down:\n            newValue = (clientY - trackRect.top) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Up:\n            newValue = (trackLength - (clientY - trackRect.top)) / trackLength * (max - min) + min;\n            break;\n\n          default:\n            utils_1.assertUnreachable(direction);\n        } // invert for RTL\n\n\n        if (rtl) {\n          newValue = max + min - newValue;\n        }\n\n        if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n          onChange(utils_1.replaceAt(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n        }\n      }\n    };\n\n    _this.normalizeValue = function (value, index) {\n      var _a = _this.props,\n          min = _a.min,\n          max = _a.max,\n          step = _a.step,\n          allowOverlap = _a.allowOverlap,\n          values = _a.values;\n      return utils_1.normalizeValue(value, index, min, max, step, allowOverlap, values);\n    };\n\n    _this.onEnd = function (e) {\n      e.preventDefault();\n      document.removeEventListener('mousemove', _this.schdOnMouseMove);\n      document.removeEventListener('touchmove', _this.schdOnTouchMove);\n      document.removeEventListener('mouseup', _this.schdOnEnd);\n      document.removeEventListener('touchend', _this.schdOnEnd);\n      document.removeEventListener('touchcancel', _this.schdOnEnd);\n      if (_this.state.draggedThumbIndex === -1 && _this.state.draggedTrackPos[0] === -1 && _this.state.draggedTrackPos[1] === -1) return null;\n\n      _this.setState({\n        draggedThumbIndex: -1,\n        draggedTrackPos: [-1, -1]\n      }, function () {\n        _this.fireOnFinalChange();\n      });\n    };\n\n    _this.fireOnFinalChange = function () {\n      _this.setState({\n        isChanged: false\n      });\n\n      var _a = _this.props,\n          onFinalChange = _a.onFinalChange,\n          values = _a.values;\n\n      if (onFinalChange) {\n        onFinalChange(values);\n      }\n    };\n\n    _this.calculateMarkOffsets = function () {\n      if (!_this.props.renderMark || !_this.trackRef || _this.trackRef.current === null) return;\n      var elStyles = window.getComputedStyle(_this.trackRef.current);\n      var trackWidth = parseInt(elStyles.width, 10);\n      var trackHeight = parseInt(elStyles.height, 10);\n      var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n      var paddingTop = parseInt(elStyles.paddingTop, 10);\n      var res = [];\n\n      for (var i = 0; i < _this.numOfMarks + 1; i++) {\n        var markHeight = 9999;\n        var markWidth = 9999;\n\n        if (_this.markRefs[i].current) {\n          var markRect = _this.markRefs[i].current.getBoundingClientRect();\n\n          markHeight = markRect.height;\n          markWidth = markRect.width;\n        }\n\n        if (_this.props.direction === types_1.Direction.Left || _this.props.direction === types_1.Direction.Right) {\n          res.push([Math.round(trackWidth / _this.numOfMarks * i + paddingLeft - markWidth / 2), -Math.round((markHeight - trackHeight) / 2)]);\n        } else {\n          res.push([Math.round(trackHeight / _this.numOfMarks * i + paddingTop - markHeight / 2), -Math.round((markWidth - trackWidth) / 2)]);\n        }\n      }\n\n      _this.setState({\n        markOffsets: res\n      });\n    };\n\n    if (props.step === 0) {\n      throw new Error('\"step\" property should be a positive number');\n    }\n\n    _this.numOfMarks = (props.max - props.min) / _this.props.step;\n    _this.schdOnMouseMove = utils_1.schd(_this.onMouseMove);\n    _this.schdOnTouchMove = utils_1.schd(_this.onTouchMove);\n    _this.schdOnEnd = utils_1.schd(_this.onEnd);\n    _this.thumbRefs = props.values.map(function () {\n      return React.createRef();\n    });\n\n    for (var i = 0; i < _this.numOfMarks + 1; i++) {\n      _this.markRefs[i] = React.createRef();\n    }\n\n    return _this;\n  }\n\n  Range.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var _a = this.props,\n        values = _a.values,\n        min = _a.min,\n        step = _a.step;\n    this.resizeObserver = window.ResizeObserver ? new window.ResizeObserver(this.onResize) : {\n      observe: function () {\n        return window.addEventListener('resize', _this.onResize);\n      },\n      unobserve: function () {\n        return window.removeEventListener('resize', _this.onResize);\n      }\n    };\n    document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n      passive: false\n    });\n    document.addEventListener('mousedown', this.onMouseOrTouchStart, {\n      passive: false\n    });\n    !this.props.allowOverlap && utils_1.checkInitialOverlap(this.props.values);\n    this.props.values.forEach(function (value) {\n      return utils_1.checkBoundaries(value, _this.props.min, _this.props.max);\n    });\n    this.resizeObserver.observe(this.trackRef.current);\n    utils_1.translateThumbs(this.getThumbs(), this.getOffsets(), this.props.rtl);\n    this.calculateMarkOffsets();\n    values.forEach(function (value) {\n      if (!utils_1.isStepDivisible(min, value, step)) {\n        console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n      }\n    });\n  };\n\n  Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n        max = _a.max,\n        min = _a.min,\n        step = _a.step,\n        values = _a.values,\n        rtl = _a.rtl;\n\n    if (prevProps.max !== max || prevProps.min !== min || prevProps.step !== step) {\n      this.markRefs = [];\n      this.numOfMarks = (max - min) / step;\n\n      for (var i = 0; i < this.numOfMarks + 1; i++) {\n        this.markRefs[i] = React.createRef();\n      }\n    }\n\n    utils_1.translateThumbs(this.getThumbs(), this.getOffsets(), rtl); // ensure offsets are calculated when the refs for the marks have been created\n    // and those refs have been mounted to the dom\n    // on the state update in calculateOffsets with new markOffsets are calculated\n\n    if (prevProps.max !== max || prevProps.min !== min || prevProps.step !== step || prevState.markOffsets.length !== this.state.markOffsets.length) {\n      this.calculateMarkOffsets();\n      values.forEach(function (value) {\n        if (!utils_1.isStepDivisible(min, value, step)) {\n          console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n        }\n      });\n    }\n  };\n\n  Range.prototype.componentWillUnmount = function () {\n    var options = {\n      passive: false\n    };\n    document.removeEventListener('mousedown', this.onMouseOrTouchStart, options); // These need to be removed!!\n\n    document.removeEventListener('mousemove', this.schdOnMouseMove);\n    document.removeEventListener('touchmove', this.schdOnTouchMove);\n    document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n    document.removeEventListener('mouseup', this.schdOnEnd);\n    document.removeEventListener('touchend', this.schdOnEnd);\n    this.resizeObserver.unobserve(this.trackRef.current);\n  };\n\n  Range.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        renderTrack = _a.renderTrack,\n        renderThumb = _a.renderThumb,\n        _b = _a.renderMark,\n        renderMark = _b === void 0 ? function () {\n      return null;\n    } : _b,\n        values = _a.values,\n        min = _a.min,\n        max = _a.max,\n        allowOverlap = _a.allowOverlap,\n        disabled = _a.disabled;\n    var _c = this.state,\n        draggedThumbIndex = _c.draggedThumbIndex,\n        thumbZIndexes = _c.thumbZIndexes,\n        markOffsets = _c.markOffsets;\n    return renderTrack({\n      props: {\n        style: {\n          // creates stacking context that prevents z-index applied to thumbs\n          // interfere with other elements\n          transform: 'scale(1)',\n          cursor: draggedThumbIndex > -1 ? 'grabbing' : this.props.draggableTrack ? utils_1.isVertical(this.props.direction) ? 'ns-resize' : 'ew-resize' : values.length === 1 && !disabled ? 'pointer' : 'inherit'\n        },\n        onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n        onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n        ref: this.trackRef\n      },\n      isDragged: this.state.draggedThumbIndex > -1,\n      disabled: disabled,\n      children: __spreadArrays(markOffsets.map(function (offset, index, arr) {\n        return renderMark({\n          props: {\n            style: _this.props.direction === types_1.Direction.Left || _this.props.direction === types_1.Direction.Right ? {\n              position: 'absolute',\n              left: offset[0] + \"px\",\n              marginTop: offset[1] + \"px\"\n            } : {\n              position: 'absolute',\n              top: offset[0] + \"px\",\n              marginLeft: offset[1] + \"px\"\n            },\n            key: \"mark\" + index,\n            ref: _this.markRefs[index]\n          },\n          index: index\n        });\n      }), values.map(function (value, index) {\n        var isDragged = _this.state.draggedThumbIndex === index;\n        return renderThumb({\n          index: index,\n          value: value,\n          isDragged: isDragged,\n          props: {\n            style: {\n              position: 'absolute',\n              zIndex: thumbZIndexes[index],\n              cursor: disabled ? 'inherit' : isDragged ? 'grabbing' : 'grab',\n              userSelect: 'none',\n              touchAction: 'none',\n              WebkitUserSelect: 'none',\n              MozUserSelect: 'none',\n              msUserSelect: 'none'\n            },\n            key: index,\n            tabIndex: disabled ? undefined : 0,\n            'aria-valuemax': allowOverlap ? max : values[index + 1] || max,\n            'aria-valuemin': allowOverlap ? min : values[index - 1] || min,\n            'aria-valuenow': value,\n            draggable: false,\n            ref: _this.thumbRefs[index],\n            role: 'slider',\n            onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n            onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp\n          }\n        });\n      }))\n    });\n  };\n\n  Range.defaultProps = {\n    step: 1,\n    direction: types_1.Direction.Right,\n    rtl: false,\n    disabled: false,\n    allowOverlap: false,\n    draggableTrack: false,\n    min: 0,\n    max: 100\n  };\n  return Range;\n}(React.Component);\n\nexports.default = Range;","map":{"version":3,"sources":["D:/projects React/proShop/frontend/node_modules/react-range/lib/Range.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","__createBinding","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__spreadArrays","s","i","il","arguments","length","r","a","j","jl","exports","React","require","utils_1","types_1","INCREASE_KEYS","DECREASE_KEYS","Range","_super","props","_this","trackRef","createRef","thumbRefs","markRefs","state","draggedTrackPos","draggedThumbIndex","thumbZIndexes","values","fill","map","t","isChanged","markOffsets","getOffsets","_a","direction","min","max","trackElement","current","trackRect","getBoundingClientRect","trackPadding","getPaddingAndBorder","getThumbs","thumb","index","thumbOffsets","x","y","thumbRect","thumbMargins","getMargin","Direction","Right","left","height","top","width","relativeValue","Left","right","Up","Down","assertUnreachable","from","children","filter","el","hasAttribute","console","warn","getTargetIndex","e","findIndex","child","target","contains","addTouchEvents","document","addEventListener","schdOnTouchMove","passive","schdOnEnd","addMouseEvents","schdOnMouseMove","onMouseDownTrack","button","persist","preventDefault","nativeEvent","draggableTrack","some","thumbRef","setState","clientX","clientY","onMove","getClosestThumbIndex","focus","onResize","translateThumbs","rtl","calculateMarkOffsets","onTouchStartTrack","touches","onMouseOrTouchStart","disabled","isTouch","isTouchEvent","Math","apply","onMouseMove","onTouchMove","onKeyDown","onChange","step","inverter","includes","key","replaceAt","normalizeValue","fireOnFinalChange","onKeyUp","_b","trackLength","isVertical","dX","dY","deltaValue","abs","sign","thumbValue","newValues","slice","newValue","allowOverlap","onEnd","removeEventListener","onFinalChange","renderMark","elStyles","window","getComputedStyle","trackWidth","parseInt","trackHeight","paddingLeft","paddingTop","res","numOfMarks","markHeight","markWidth","markRect","push","round","Error","schd","componentDidMount","resizeObserver","ResizeObserver","observe","unobserve","checkInitialOverlap","forEach","checkBoundaries","isStepDivisible","componentDidUpdate","prevProps","prevState","componentWillUnmount","options","render","renderTrack","renderThumb","_c","style","transform","cursor","onMouseDown","voidFn","onTouchStart","ref","isDragged","offset","arr","position","marginTop","marginLeft","zIndex","userSelect","touchAction","WebkitUserSelect","MozUserSelect","msUserSelect","tabIndex","draggable","role","defaultProps","Component","default"],"mappings":"AAAA;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAFrG;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASS,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBX,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACU,MAAP,CAAcX,CAAd,CAAb,IAAiCS,EAAE,CAACH,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIG,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,IAAIG,eAAe,GAAI,QAAQ,KAAKA,eAAd,KAAmCX,MAAM,CAACU,MAAP,GAAiB,UAASE,CAAT,EAAYC,CAAZ,EAAeC,CAAf,EAAkBC,EAAlB,EAAsB;AAC5F,MAAIA,EAAE,KAAKC,SAAX,EAAsBD,EAAE,GAAGD,CAAL;AACtBd,EAAAA,MAAM,CAACiB,cAAP,CAAsBL,CAAtB,EAAyBG,EAAzB,EAA6B;AAAEG,IAAAA,UAAU,EAAE,IAAd;AAAoBC,IAAAA,GAAG,EAAE,YAAW;AAAE,aAAON,CAAC,CAACC,CAAD,CAAR;AAAc;AAApD,GAA7B;AACH,CAHwD,GAGnD,UAASF,CAAT,EAAYC,CAAZ,EAAeC,CAAf,EAAkBC,EAAlB,EAAsB;AACxB,MAAIA,EAAE,KAAKC,SAAX,EAAsBD,EAAE,GAAGD,CAAL;AACtBF,EAAAA,CAAC,CAACG,EAAD,CAAD,GAAQF,CAAC,CAACC,CAAD,CAAT;AACH,CANqB,CAAtB;;AAOA,IAAIM,kBAAkB,GAAI,QAAQ,KAAKA,kBAAd,KAAsCpB,MAAM,CAACU,MAAP,GAAiB,UAASE,CAAT,EAAYS,CAAZ,EAAe;AAC3FrB,EAAAA,MAAM,CAACiB,cAAP,CAAsBL,CAAtB,EAAyB,SAAzB,EAAoC;AAAEM,IAAAA,UAAU,EAAE,IAAd;AAAoBI,IAAAA,KAAK,EAAED;AAA3B,GAApC;AACH,CAF8D,GAE1D,UAAST,CAAT,EAAYS,CAAZ,EAAe;AAChBT,EAAAA,CAAC,CAAC,SAAD,CAAD,GAAeS,CAAf;AACH,CAJwB,CAAzB;;AAKA,IAAIE,YAAY,GAAI,QAAQ,KAAKA,YAAd,IAA+B,UAAUC,GAAV,EAAe;AAC7D,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B,OAAOD,GAAP;AAC3B,MAAIE,MAAM,GAAG,EAAb;AACA,MAAIF,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAIV,CAAT,IAAcU,GAAd,EAAmB,IAAIV,CAAC,KAAK,SAAN,IAAmBd,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCiB,GAArC,EAA0CV,CAA1C,CAAvB,EAAqEH,eAAe,CAACe,MAAD,EAASF,GAAT,EAAcV,CAAd,CAAf;;AACzGM,EAAAA,kBAAkB,CAACM,MAAD,EAASF,GAAT,CAAlB;;AACA,SAAOE,MAAP;AACH,CAND;;AAOA,IAAIC,cAAc,GAAI,QAAQ,KAAKA,cAAd,IAAiC,YAAY;AAC9D,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,CAAf,EAAkBC,EAAE,GAAGC,SAAS,CAACC,MAAtC,EAA8CH,CAAC,GAAGC,EAAlD,EAAsDD,CAAC,EAAvD,EAA2DD,CAAC,IAAIG,SAAS,CAACF,CAAD,CAAT,CAAaG,MAAlB;;AAC3D,OAAK,IAAIC,CAAC,GAAG9B,KAAK,CAACyB,CAAD,CAAb,EAAkBd,CAAC,GAAG,CAAtB,EAAyBe,CAAC,GAAG,CAAlC,EAAqCA,CAAC,GAAGC,EAAzC,EAA6CD,CAAC,EAA9C,EACI,KAAK,IAAIK,CAAC,GAAGH,SAAS,CAACF,CAAD,CAAjB,EAAsBM,CAAC,GAAG,CAA1B,EAA6BC,EAAE,GAAGF,CAAC,CAACF,MAAzC,EAAiDG,CAAC,GAAGC,EAArD,EAAyDD,CAAC,IAAIrB,CAAC,EAA/D,EACImB,CAAC,CAACnB,CAAD,CAAD,GAAOoB,CAAC,CAACC,CAAD,CAAR;;AACR,SAAOF,CAAP;AACH,CAND;;AAOAjC,MAAM,CAACiB,cAAP,CAAsBoB,OAAtB,EAA+B,YAA/B,EAA6C;AAAEf,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIgB,KAAK,GAAGf,YAAY,CAACgB,OAAO,CAAC,OAAD,CAAR,CAAxB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIG,aAAa,GAAG,CAAC,YAAD,EAAe,SAAf,EAA0B,GAA1B,EAA+B,QAA/B,CAApB;AACA,IAAIC,aAAa,GAAG,CAAC,WAAD,EAAc,WAAd,EAA2B,GAA3B,EAAgC,UAAhC,CAApB;;AACA,IAAIC,KAAK;AAAG;AAAe,UAAUC,MAAV,EAAkB;AACzCjD,EAAAA,SAAS,CAACgD,KAAD,EAAQC,MAAR,CAAT;;AACA,WAASD,KAAT,CAAeE,KAAf,EAAsB;AAClB,QAAIC,KAAK,GAAGF,MAAM,CAACtC,IAAP,CAAY,IAAZ,EAAkBuC,KAAlB,KAA4B,IAAxC;;AACAC,IAAAA,KAAK,CAACC,QAAN,GAAiBV,KAAK,CAACW,SAAN,EAAjB;AACAF,IAAAA,KAAK,CAACG,SAAN,GAAkB,EAAlB;AACAH,IAAAA,KAAK,CAACI,QAAN,GAAiB,EAAjB;AACAJ,IAAAA,KAAK,CAACK,KAAN,GAAc;AACVC,MAAAA,eAAe,EAAE,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CADP;AAEVC,MAAAA,iBAAiB,EAAE,CAAC,CAFV;AAGVC,MAAAA,aAAa,EAAE,IAAIpD,KAAJ,CAAU4C,KAAK,CAACD,KAAN,CAAYU,MAAZ,CAAmBxB,MAA7B,EAAqCyB,IAArC,CAA0C,CAA1C,EAA6CC,GAA7C,CAAiD,UAAUC,CAAV,EAAa9B,CAAb,EAAgB;AAAE,eAAOA,CAAP;AAAW,OAA9E,CAHL;AAIV+B,MAAAA,SAAS,EAAE,KAJD;AAKVC,MAAAA,WAAW,EAAE;AALH,KAAd;;AAOAd,IAAAA,KAAK,CAACe,UAAN,GAAmB,YAAY;AAC3B,UAAIC,EAAE,GAAGhB,KAAK,CAACD,KAAf;AAAA,UAAsBkB,SAAS,GAAGD,EAAE,CAACC,SAArC;AAAA,UAAgDR,MAAM,GAAGO,EAAE,CAACP,MAA5D;AAAA,UAAoES,GAAG,GAAGF,EAAE,CAACE,GAA7E;AAAA,UAAkFC,GAAG,GAAGH,EAAE,CAACG,GAA3F;AACA,UAAIC,YAAY,GAAGpB,KAAK,CAACC,QAAN,CAAeoB,OAAlC;AACA,UAAIC,SAAS,GAAGF,YAAY,CAACG,qBAAb,EAAhB;AACA,UAAIC,YAAY,GAAG/B,OAAO,CAACgC,mBAAR,CAA4BL,YAA5B,CAAnB;AACA,aAAOpB,KAAK,CAAC0B,SAAN,GAAkBf,GAAlB,CAAsB,UAAUgB,KAAV,EAAiBC,KAAjB,EAAwB;AACjD,YAAIC,YAAY,GAAG;AAAEC,UAAAA,CAAC,EAAE,CAAL;AAAQC,UAAAA,CAAC,EAAE;AAAX,SAAnB;AACA,YAAIC,SAAS,GAAGL,KAAK,CAACJ,qBAAN,EAAhB;AACA,YAAIU,YAAY,GAAGxC,OAAO,CAACyC,SAAR,CAAkBP,KAAlB,CAAnB;;AACA,gBAAQV,SAAR;AACI,eAAKvB,OAAO,CAACyC,SAAR,CAAkBC,KAAvB;AACIP,YAAAA,YAAY,CAACC,CAAb,GAAiB,CAACG,YAAY,CAACI,IAAb,GAAoBb,YAAY,CAACa,IAAlC,IAA0C,CAAC,CAA5D;AACAR,YAAAA,YAAY,CAACE,CAAb,GACI,CAAC,CAACC,SAAS,CAACM,MAAV,GAAmBhB,SAAS,CAACgB,MAA9B,IAAwC,CAAxC,GAA4Cd,YAAY,CAACe,GAA1D,IAAiE,CAAC,CADtE;AAEAV,YAAAA,YAAY,CAACC,CAAb,IACIR,SAAS,CAACkB,KAAV,GAAkB/C,OAAO,CAACgD,aAAR,CAAsBhC,MAAM,CAACmB,KAAD,CAA5B,EAAqCV,GAArC,EAA0CC,GAA1C,CAAlB,GACIa,SAAS,CAACQ,KAAV,GAAkB,CAF1B;AAGA,mBAAOX,YAAP;;AACJ,eAAKnC,OAAO,CAACyC,SAAR,CAAkBO,IAAvB;AACIb,YAAAA,YAAY,CAACC,CAAb,GAAiB,CAACG,YAAY,CAACU,KAAb,GAAqBnB,YAAY,CAACmB,KAAnC,IAA4C,CAAC,CAA9D;AACAd,YAAAA,YAAY,CAACE,CAAb,GACI,CAAC,CAACC,SAAS,CAACM,MAAV,GAAmBhB,SAAS,CAACgB,MAA9B,IAAwC,CAAxC,GAA4Cd,YAAY,CAACe,GAA1D,IAAiE,CAAC,CADtE;AAEAV,YAAAA,YAAY,CAACC,CAAb,IACIR,SAAS,CAACkB,KAAV,GACIlB,SAAS,CAACkB,KAAV,GAAkB/C,OAAO,CAACgD,aAAR,CAAsBhC,MAAM,CAACmB,KAAD,CAA5B,EAAqCV,GAArC,EAA0CC,GAA1C,CADtB,GAEIa,SAAS,CAACQ,KAAV,GAAkB,CAH1B;AAIA,mBAAOX,YAAP;;AACJ,eAAKnC,OAAO,CAACyC,SAAR,CAAkBS,EAAvB;AACIf,YAAAA,YAAY,CAACC,CAAb,GACI,CAAC,CAACE,SAAS,CAACQ,KAAV,GAAkBlB,SAAS,CAACkB,KAA7B,IAAsC,CAAtC,GACGP,YAAY,CAACI,IADhB,GAEGb,YAAY,CAACa,IAFjB,IAGI,CAAC,CAJT;AAKAR,YAAAA,YAAY,CAACE,CAAb,GAAiB,CAACP,YAAY,CAACa,IAA/B;AACAR,YAAAA,YAAY,CAACE,CAAb,IACIT,SAAS,CAACgB,MAAV,GACIhB,SAAS,CAACgB,MAAV,GAAmB7C,OAAO,CAACgD,aAAR,CAAsBhC,MAAM,CAACmB,KAAD,CAA5B,EAAqCV,GAArC,EAA0CC,GAA1C,CADvB,GAEIa,SAAS,CAACM,MAAV,GAAmB,CAH3B;AAIA,mBAAOT,YAAP;;AACJ,eAAKnC,OAAO,CAACyC,SAAR,CAAkBU,IAAvB;AACIhB,YAAAA,YAAY,CAACC,CAAb,GACI,CAAC,CAACE,SAAS,CAACQ,KAAV,GAAkBlB,SAAS,CAACkB,KAA7B,IAAsC,CAAtC,GACGP,YAAY,CAACI,IADhB,GAEGb,YAAY,CAACa,IAFjB,IAGI,CAAC,CAJT;AAKAR,YAAAA,YAAY,CAACE,CAAb,GAAiB,CAACP,YAAY,CAACa,IAA/B;AACAR,YAAAA,YAAY,CAACE,CAAb,IACIT,SAAS,CAACgB,MAAV,GAAmB7C,OAAO,CAACgD,aAAR,CAAsBhC,MAAM,CAACmB,KAAD,CAA5B,EAAqCV,GAArC,EAA0CC,GAA1C,CAAnB,GACIa,SAAS,CAACM,MAAV,GAAmB,CAF3B;AAGA,mBAAOT,YAAP;;AACJ;AACI,mBAAOpC,OAAO,CAACqD,iBAAR,CAA0B7B,SAA1B,CAAP;AA1CR;AA4CH,OAhDM,CAAP;AAiDH,KAtDD;;AAuDAjB,IAAAA,KAAK,CAAC0B,SAAN,GAAkB,YAAY;AAC1B,UAAI1B,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeoB,OAArC,EAA8C;AAC1C,eAAOjE,KAAK,CAAC2F,IAAN,CAAW/C,KAAK,CAACC,QAAN,CAAeoB,OAAf,CAAuB2B,QAAlC,EAA4CC,MAA5C,CAAmD,UAAUC,EAAV,EAAc;AACpE,iBAAOA,EAAE,CAACC,YAAH,CAAgB,eAAhB,CAAP;AACH,SAFM,CAAP;AAGH;;AACDC,MAAAA,OAAO,CAACC,IAAR,CAAa,2GAAb;AACA,aAAO,EAAP;AACH,KARD;;AASArD,IAAAA,KAAK,CAACsD,cAAN,GAAuB,UAAUC,CAAV,EAAa;AAChC,aAAOvD,KAAK,CAAC0B,SAAN,GAAkB8B,SAAlB,CAA4B,UAAUC,KAAV,EAAiB;AAAE,eAAOA,KAAK,KAAKF,CAAC,CAACG,MAAZ,IAAsBD,KAAK,CAACE,QAAN,CAAeJ,CAAC,CAACG,MAAjB,CAA7B;AAAwD,OAAvG,CAAP;AACH,KAFD;;AAGA1D,IAAAA,KAAK,CAAC4D,cAAN,GAAuB,UAAUL,CAAV,EAAa;AAChCM,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC9D,KAAK,CAAC+D,eAA7C,EAA8D;AAC1DC,QAAAA,OAAO,EAAE;AADiD,OAA9D;AAGAH,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,EAAsC9D,KAAK,CAACiE,SAA5C,EAAuD;AACnDD,QAAAA,OAAO,EAAE;AAD0C,OAAvD;AAGAH,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,aAA1B,EAAyC9D,KAAK,CAACiE,SAA/C,EAA0D;AACtDD,QAAAA,OAAO,EAAE;AAD6C,OAA1D;AAGH,KAVD;;AAWAhE,IAAAA,KAAK,CAACkE,cAAN,GAAuB,UAAUX,CAAV,EAAa;AAChCM,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC9D,KAAK,CAACmE,eAA7C;AACAN,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC9D,KAAK,CAACiE,SAA3C;AACH,KAHD;;AAIAjE,IAAAA,KAAK,CAACoE,gBAAN,GAAyB,UAAUb,CAAV,EAAa;AAClC,UAAIvC,EAAJ;;AACA,UAAIuC,CAAC,CAACc,MAAF,KAAa,CAAjB,EACI;AACJd,MAAAA,CAAC,CAACe,OAAF;AACAf,MAAAA,CAAC,CAACgB,cAAF;;AACAvE,MAAAA,KAAK,CAACkE,cAAN,CAAqBX,CAAC,CAACiB,WAAvB;;AACA,UAAIxE,KAAK,CAACD,KAAN,CAAYU,MAAZ,CAAmBxB,MAAnB,GAA4B,CAA5B,IAAiCe,KAAK,CAACD,KAAN,CAAY0E,cAAjD,EAAiE;AAC7D,YAAIzE,KAAK,CAACG,SAAN,CAAgBuE,IAAhB,CAAqB,UAAUC,QAAV,EAAoB;AAAE,cAAI3D,EAAJ;;AAAQ,iBAAO,CAACA,EAAE,GAAG2D,QAAQ,CAACtD,OAAf,MAA4B,IAA5B,IAAoCL,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAAC2C,QAAH,CAAYJ,CAAC,CAACG,MAAd,CAApE;AAA4F,SAA/I,CAAJ,EACI,OAFyD,CAG7D;;AACA1D,QAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXtE,UAAAA,eAAe,EAAE,CAACiD,CAAC,CAACsB,OAAH,EAAYtB,CAAC,CAACuB,OAAd;AADN,SAAf,EAEG,YAAY;AAAE,iBAAO9E,KAAK,CAAC+E,MAAN,CAAaxB,CAAC,CAACsB,OAAf,EAAwBtB,CAAC,CAACuB,OAA1B,CAAP;AAA4C,SAF7D;AAGH,OAPD,MAQK;AACD;AACA,YAAIvE,iBAAiB,GAAGd,OAAO,CAACuF,oBAAR,CAA6BhF,KAAK,CAACG,SAAN,CAAgBQ,GAAhB,CAAoB,UAAUC,CAAV,EAAa;AAAE,iBAAOA,CAAC,CAACS,OAAT;AAAmB,SAAtD,CAA7B,EAAsFkC,CAAC,CAACsB,OAAxF,EAAiGtB,CAAC,CAACuB,OAAnG,EAA4G9E,KAAK,CAACD,KAAN,CAAYkB,SAAxH,CAAxB,CAFC,CAGD;;AACA,SAACD,EAAE,GAAGhB,KAAK,CAACG,SAAN,CAAgBI,iBAAhB,EAAmCc,OAAzC,MAAsD,IAAtD,IAA8DL,EAAE,KAAK,KAAK,CAA1E,GAA8E,KAAK,CAAnF,GAAuFA,EAAE,CAACiE,KAAH,EAAvF;;AACAjF,QAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXrE,UAAAA,iBAAiB,EAAEA;AADR,SAAf,EAEG,YAAY;AAAE,iBAAOP,KAAK,CAAC+E,MAAN,CAAaxB,CAAC,CAACsB,OAAf,EAAwBtB,CAAC,CAACuB,OAA1B,CAAP;AAA4C,SAF7D;AAGH;AACJ,KAxBD;;AAyBA9E,IAAAA,KAAK,CAACkF,QAAN,GAAiB,YAAY;AACzBzF,MAAAA,OAAO,CAAC0F,eAAR,CAAwBnF,KAAK,CAAC0B,SAAN,EAAxB,EAA2C1B,KAAK,CAACe,UAAN,EAA3C,EAA+Df,KAAK,CAACD,KAAN,CAAYqF,GAA3E;;AACApF,MAAAA,KAAK,CAACqF,oBAAN;AACH,KAHD;;AAIArF,IAAAA,KAAK,CAACsF,iBAAN,GAA0B,UAAU/B,CAAV,EAAa;AACnC,UAAIvC,EAAJ;;AACAuC,MAAAA,CAAC,CAACe,OAAF;;AACAtE,MAAAA,KAAK,CAAC4D,cAAN,CAAqBL,CAAC,CAACiB,WAAvB;;AACA,UAAIxE,KAAK,CAACD,KAAN,CAAYU,MAAZ,CAAmBxB,MAAnB,GAA4B,CAA5B,IAAiCe,KAAK,CAACD,KAAN,CAAY0E,cAAjD,EAAiE;AAC7D,YAAIzE,KAAK,CAACG,SAAN,CAAgBuE,IAAhB,CAAqB,UAAUC,QAAV,EAAoB;AAAE,cAAI3D,EAAJ;;AAAQ,iBAAO,CAACA,EAAE,GAAG2D,QAAQ,CAACtD,OAAf,MAA4B,IAA5B,IAAoCL,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAAC2C,QAAH,CAAYJ,CAAC,CAACG,MAAd,CAApE;AAA4F,SAA/I,CAAJ,EACI,OAFyD,CAG7D;;AACA1D,QAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXtE,UAAAA,eAAe,EAAE,CAACiD,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaV,OAAd,EAAuBtB,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaT,OAApC;AADN,SAAf,EAEG,YAAY;AAAE,iBAAO9E,KAAK,CAAC+E,MAAN,CAAaxB,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaV,OAA1B,EAAmCtB,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaT,OAAhD,CAAP;AAAkE,SAFnF;AAGH,OAPD,MAQK;AACD;AACA,YAAIvE,iBAAiB,GAAGd,OAAO,CAACuF,oBAAR,CAA6BhF,KAAK,CAACG,SAAN,CAAgBQ,GAAhB,CAAoB,UAAUC,CAAV,EAAa;AAAE,iBAAOA,CAAC,CAACS,OAAT;AAAmB,SAAtD,CAA7B,EAAsFkC,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaV,OAAnG,EAA4GtB,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaT,OAAzH,EAAkI9E,KAAK,CAACD,KAAN,CAAYkB,SAA9I,CAAxB,CAFC,CAGD;;AACA,SAACD,EAAE,GAAGhB,KAAK,CAACG,SAAN,CAAgBI,iBAAhB,EAAmCc,OAAzC,MAAsD,IAAtD,IAA8DL,EAAE,KAAK,KAAK,CAA1E,GAA8E,KAAK,CAAnF,GAAuFA,EAAE,CAACiE,KAAH,EAAvF;;AACAjF,QAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXrE,UAAAA,iBAAiB,EAAEA;AADR,SAAf,EAEG,YAAY;AAAE,iBAAOP,KAAK,CAAC+E,MAAN,CAAaxB,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaV,OAA1B,EAAmCtB,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaT,OAAhD,CAAP;AAAkE,SAFnF;AAGH;AACJ,KArBD;;AAsBA9E,IAAAA,KAAK,CAACwF,mBAAN,GAA4B,UAAUjC,CAAV,EAAa;AACrC,UAAIvD,KAAK,CAACD,KAAN,CAAY0F,QAAhB,EACI;AACJ,UAAIC,OAAO,GAAGjG,OAAO,CAACkG,YAAR,CAAqBpC,CAArB,CAAd;AACA,UAAI,CAACmC,OAAD,IAAYnC,CAAC,CAACc,MAAF,KAAa,CAA7B,EACI;;AACJ,UAAIzC,KAAK,GAAG5B,KAAK,CAACsD,cAAN,CAAqBC,CAArB,CAAZ;;AACA,UAAI3B,KAAK,KAAK,CAAC,CAAf,EACI;;AACJ,UAAI8D,OAAJ,EAAa;AACT1F,QAAAA,KAAK,CAAC4D,cAAN,CAAqBL,CAArB;AACH,OAFD,MAGK;AACDvD,QAAAA,KAAK,CAACkE,cAAN,CAAqBX,CAArB;AACH;;AACDvD,MAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXrE,QAAAA,iBAAiB,EAAEqB,KADR;AAEXpB,QAAAA,aAAa,EAAER,KAAK,CAACK,KAAN,CAAYG,aAAZ,CAA0BG,GAA1B,CAA8B,UAAUC,CAAV,EAAa9B,CAAb,EAAgB;AACzD,cAAIA,CAAC,KAAK8C,KAAV,EAAiB;AACb,mBAAOgE,IAAI,CAACzE,GAAL,CAAS0E,KAAT,CAAeD,IAAf,EAAqB5F,KAAK,CAACK,KAAN,CAAYG,aAAjC,CAAP;AACH;;AACD,iBAAOI,CAAC,IAAIZ,KAAK,CAACK,KAAN,CAAYG,aAAZ,CAA0BoB,KAA1B,CAAL,GAAwChB,CAAxC,GAA4CA,CAAC,GAAG,CAAvD;AACH,SALc;AAFJ,OAAf;AASH,KAxBD;;AAyBAZ,IAAAA,KAAK,CAAC8F,WAAN,GAAoB,UAAUvC,CAAV,EAAa;AAC7BA,MAAAA,CAAC,CAACgB,cAAF;;AACAvE,MAAAA,KAAK,CAAC+E,MAAN,CAAaxB,CAAC,CAACsB,OAAf,EAAwBtB,CAAC,CAACuB,OAA1B;AACH,KAHD;;AAIA9E,IAAAA,KAAK,CAAC+F,WAAN,GAAoB,UAAUxC,CAAV,EAAa;AAC7BA,MAAAA,CAAC,CAACgB,cAAF;;AACAvE,MAAAA,KAAK,CAAC+E,MAAN,CAAaxB,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaV,OAA1B,EAAmCtB,CAAC,CAACgC,OAAF,CAAU,CAAV,EAAaT,OAAhD;AACH,KAHD;;AAIA9E,IAAAA,KAAK,CAACgG,SAAN,GAAkB,UAAUzC,CAAV,EAAa;AAC3B,UAAIvC,EAAE,GAAGhB,KAAK,CAACD,KAAf;AAAA,UAAsBU,MAAM,GAAGO,EAAE,CAACP,MAAlC;AAAA,UAA0CwF,QAAQ,GAAGjF,EAAE,CAACiF,QAAxD;AAAA,UAAkEC,IAAI,GAAGlF,EAAE,CAACkF,IAA5E;AAAA,UAAkFd,GAAG,GAAGpE,EAAE,CAACoE,GAA3F;AACA,UAAIvE,SAAS,GAAGb,KAAK,CAACK,KAAN,CAAYQ,SAA5B;;AACA,UAAIe,KAAK,GAAG5B,KAAK,CAACsD,cAAN,CAAqBC,CAAC,CAACiB,WAAvB,CAAZ;;AACA,UAAI2B,QAAQ,GAAGf,GAAG,GAAG,CAAC,CAAJ,GAAQ,CAA1B;AACA,UAAIxD,KAAK,KAAK,CAAC,CAAf,EACI;;AACJ,UAAIjC,aAAa,CAACyG,QAAd,CAAuB7C,CAAC,CAAC8C,GAAzB,CAAJ,EAAmC;AAC/B9C,QAAAA,CAAC,CAACgB,cAAF;;AACAvE,QAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXrE,UAAAA,iBAAiB,EAAEqB,KADR;AAEXf,UAAAA,SAAS,EAAE;AAFA,SAAf;;AAIAoF,QAAAA,QAAQ,CAACxG,OAAO,CAAC6G,SAAR,CAAkB7F,MAAlB,EAA0BmB,KAA1B,EAAiC5B,KAAK,CAACuG,cAAN,CAAqB9F,MAAM,CAACmB,KAAD,CAAN,GAAgBuE,QAAQ,IAAI5C,CAAC,CAAC8C,GAAF,KAAU,QAAV,GAAqBH,IAAI,GAAG,EAA5B,GAAiCA,IAArC,CAA7C,EAAyFtE,KAAzF,CAAjC,CAAD,CAAR;AACH,OAPD,MAQK,IAAIhC,aAAa,CAACwG,QAAd,CAAuB7C,CAAC,CAAC8C,GAAzB,CAAJ,EAAmC;AACpC9C,QAAAA,CAAC,CAACgB,cAAF;;AACAvE,QAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXrE,UAAAA,iBAAiB,EAAEqB,KADR;AAEXf,UAAAA,SAAS,EAAE;AAFA,SAAf;;AAIAoF,QAAAA,QAAQ,CAACxG,OAAO,CAAC6G,SAAR,CAAkB7F,MAAlB,EAA0BmB,KAA1B,EAAiC5B,KAAK,CAACuG,cAAN,CAAqB9F,MAAM,CAACmB,KAAD,CAAN,GAC3DuE,QAAQ,IAAI5C,CAAC,CAAC8C,GAAF,KAAU,UAAV,GAAuBH,IAAI,GAAG,EAA9B,GAAmCA,IAAvC,CAD8B,EACgBtE,KADhB,CAAjC,CAAD,CAAR;AAEH,OARI,MASA,IAAI2B,CAAC,CAAC8C,GAAF,KAAU,KAAd,EAAqB;AACtBrG,QAAAA,KAAK,CAAC4E,QAAN,CAAe;AAAErE,UAAAA,iBAAiB,EAAE,CAAC;AAAtB,SAAf,EAA0C,YAAY;AAClD;AACA,cAAIM,SAAJ,EAAe;AACXb,YAAAA,KAAK,CAACwG,iBAAN;AACH;AACJ,SALD;AAMH,OAPI,MAQA;AACD,YAAI3F,SAAJ,EAAe;AACXb,UAAAA,KAAK,CAACwG,iBAAN;AACH;AACJ;AACJ,KArCD;;AAsCAxG,IAAAA,KAAK,CAACyG,OAAN,GAAgB,UAAUlD,CAAV,EAAa;AACzB,UAAI1C,SAAS,GAAGb,KAAK,CAACK,KAAN,CAAYQ,SAA5B;;AACAb,MAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXrE,QAAAA,iBAAiB,EAAE,CAAC;AADT,OAAf,EAEG,YAAY;AACX,YAAIM,SAAJ,EAAe;AACXb,UAAAA,KAAK,CAACwG,iBAAN;AACH;AACJ,OAND;AAOH,KATD;;AAUAxG,IAAAA,KAAK,CAAC+E,MAAN,GAAe,UAAUF,OAAV,EAAmBC,OAAnB,EAA4B;AACvC,UAAI9D,EAAE,GAAGhB,KAAK,CAACK,KAAf;AAAA,UAAsBE,iBAAiB,GAAGS,EAAE,CAACT,iBAA7C;AAAA,UAAgED,eAAe,GAAGU,EAAE,CAACV,eAArF;AACA,UAAIoG,EAAE,GAAG1G,KAAK,CAACD,KAAf;AAAA,UAAsBkB,SAAS,GAAGyF,EAAE,CAACzF,SAArC;AAAA,UAAgDC,GAAG,GAAGwF,EAAE,CAACxF,GAAzD;AAAA,UAA8DC,GAAG,GAAGuF,EAAE,CAACvF,GAAvE;AAAA,UAA4E8E,QAAQ,GAAGS,EAAE,CAACT,QAA1F;AAAA,UAAoGxF,MAAM,GAAGiG,EAAE,CAACjG,MAAhH;AAAA,UAAwHyF,IAAI,GAAGQ,EAAE,CAACR,IAAlI;AAAA,UAAwId,GAAG,GAAGsB,EAAE,CAACtB,GAAjJ;AACA,UAAI7E,iBAAiB,KAAK,CAAC,CAAvB,IACAD,eAAe,CAAC,CAAD,CAAf,KAAuB,CAAC,CADxB,IAEAA,eAAe,CAAC,CAAD,CAAf,KAAuB,CAAC,CAF5B,EAGI,OAAO,IAAP;AACJ,UAAIc,YAAY,GAAGpB,KAAK,CAACC,QAAN,CAAeoB,OAAlC,CAPuC,CAQvC;;AACA,UAAI,CAACD,YAAL,EACI,OAAO,IAAP;AACJ,UAAIE,SAAS,GAAGF,YAAY,CAACG,qBAAb,EAAhB;AACA,UAAIoF,WAAW,GAAGlH,OAAO,CAACmH,UAAR,CAAmB3F,SAAnB,IACZK,SAAS,CAACgB,MADE,GAEZhB,SAAS,CAACkB,KAFhB;;AAGA,UAAIlC,eAAe,CAAC,CAAD,CAAf,KAAuB,CAAC,CAAxB,IAA6BA,eAAe,CAAC,CAAD,CAAf,KAAuB,CAAC,CAAzD,EAA4D;AACxD;AACA,YAAIuG,EAAE,GAAGhC,OAAO,GAAGvE,eAAe,CAAC,CAAD,CAAlC;AACA,YAAIwG,EAAE,GAAGhC,OAAO,GAAGxE,eAAe,CAAC,CAAD,CAAlC,CAHwD,CAIxD;;AACA,YAAIyG,UAAU,GAAG,CAAjB;;AACA,gBAAQ9F,SAAR;AACI,eAAKvB,OAAO,CAACyC,SAAR,CAAkBC,KAAvB;AACA,eAAK1C,OAAO,CAACyC,SAAR,CAAkBO,IAAvB;AACIqE,YAAAA,UAAU,GAAIF,EAAE,GAAGF,WAAN,IAAsBxF,GAAG,GAAGD,GAA5B,CAAb;AACA;;AACJ,eAAKxB,OAAO,CAACyC,SAAR,CAAkBU,IAAvB;AACA,eAAKnD,OAAO,CAACyC,SAAR,CAAkBS,EAAvB;AACImE,YAAAA,UAAU,GAAID,EAAE,GAAGH,WAAN,IAAsBxF,GAAG,GAAGD,GAA5B,CAAb;AACA;;AACJ;AACIzB,YAAAA,OAAO,CAACqD,iBAAR,CAA0B7B,SAA1B;AAVR,SANwD,CAkBxD;;;AACA,YAAImE,GAAJ,EAAS;AACL2B,UAAAA,UAAU,IAAI,CAAC,CAAf;AACH;;AACD,YAAInB,IAAI,CAACoB,GAAL,CAASD,UAAT,KAAwBb,IAAI,GAAG,CAAnC,EAAsC;AAClC;AACA,eAAK,IAAIpH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkB,KAAK,CAACG,SAAN,CAAgBlB,MAApC,EAA4CH,CAAC,EAA7C,EAAiD;AAC7C,gBAAK2B,MAAM,CAAC3B,CAAD,CAAN,KAAcqC,GAAd,IAAqByE,IAAI,CAACqB,IAAL,CAAUF,UAAV,MAA0B,CAAhD,IACCtG,MAAM,CAAC3B,CAAD,CAAN,KAAcoC,GAAd,IAAqB0E,IAAI,CAACqB,IAAL,CAAUF,UAAV,MAA0B,CAAC,CADrD,EAEI;AACJ,gBAAIG,UAAU,GAAGzG,MAAM,CAAC3B,CAAD,CAAN,GAAYiI,UAA7B;AACA,gBAAIG,UAAU,GAAG/F,GAAjB,EACI4F,UAAU,GAAG5F,GAAG,GAAGV,MAAM,CAAC3B,CAAD,CAAzB,CADJ,KAEK,IAAIoI,UAAU,GAAGhG,GAAjB,EACD6F,UAAU,GAAG7F,GAAG,GAAGT,MAAM,CAAC3B,CAAD,CAAzB;AACP,WAXiC,CAYlC;;;AACA,cAAIqI,SAAS,GAAG1G,MAAM,CAAC2G,KAAP,CAAa,CAAb,CAAhB;;AACA,eAAK,IAAItI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkB,KAAK,CAACG,SAAN,CAAgBlB,MAApC,EAA4CH,CAAC,EAA7C,EAAiD;AAC7CqI,YAAAA,SAAS,GAAG1H,OAAO,CAAC6G,SAAR,CAAkBa,SAAlB,EAA6BrI,CAA7B,EAAgCkB,KAAK,CAACuG,cAAN,CAAqB9F,MAAM,CAAC3B,CAAD,CAAN,GAAYiI,UAAjC,EAA6CjI,CAA7C,CAAhC,CAAZ;AACH;;AACDkB,UAAAA,KAAK,CAAC4E,QAAN,CAAe;AACXtE,YAAAA,eAAe,EAAE,CAACuE,OAAD,EAAUC,OAAV;AADN,WAAf;;AAGAmB,UAAAA,QAAQ,CAACkB,SAAD,CAAR;AACH;AACJ,OA5CD,MA6CK;AACD,YAAIE,QAAQ,GAAG,CAAf;;AACA,gBAAQpG,SAAR;AACI,eAAKvB,OAAO,CAACyC,SAAR,CAAkBC,KAAvB;AACIiF,YAAAA,QAAQ,GACH,CAACxC,OAAO,GAAGvD,SAAS,CAACe,IAArB,IAA6BsE,WAA9B,IAA8CxF,GAAG,GAAGD,GAApD,IAA2DA,GAD/D;AAEA;;AACJ,eAAKxB,OAAO,CAACyC,SAAR,CAAkBO,IAAvB;AACI2E,YAAAA,QAAQ,GACH,CAACV,WAAW,IAAI9B,OAAO,GAAGvD,SAAS,CAACe,IAAxB,CAAZ,IAA6CsE,WAA9C,IACKxF,GAAG,GAAGD,GADX,IAEIA,GAHR;AAIA;;AACJ,eAAKxB,OAAO,CAACyC,SAAR,CAAkBU,IAAvB;AACIwE,YAAAA,QAAQ,GACH,CAACvC,OAAO,GAAGxD,SAAS,CAACiB,GAArB,IAA4BoE,WAA7B,IAA6CxF,GAAG,GAAGD,GAAnD,IAA0DA,GAD9D;AAEA;;AACJ,eAAKxB,OAAO,CAACyC,SAAR,CAAkBS,EAAvB;AACIyE,YAAAA,QAAQ,GACH,CAACV,WAAW,IAAI7B,OAAO,GAAGxD,SAAS,CAACiB,GAAxB,CAAZ,IAA4CoE,WAA7C,IACKxF,GAAG,GAAGD,GADX,IAEIA,GAHR;AAIA;;AACJ;AACIzB,YAAAA,OAAO,CAACqD,iBAAR,CAA0B7B,SAA1B;AAtBR,SAFC,CA0BD;;;AACA,YAAImE,GAAJ,EAAS;AACLiC,UAAAA,QAAQ,GAAGlG,GAAG,GAAGD,GAAN,GAAYmG,QAAvB;AACH;;AACD,YAAIzB,IAAI,CAACoB,GAAL,CAASvG,MAAM,CAACF,iBAAD,CAAN,GAA4B8G,QAArC,KAAkDnB,IAAI,GAAG,CAA7D,EAAgE;AAC5DD,UAAAA,QAAQ,CAACxG,OAAO,CAAC6G,SAAR,CAAkB7F,MAAlB,EAA0BF,iBAA1B,EAA6CP,KAAK,CAACuG,cAAN,CAAqBc,QAArB,EAA+B9G,iBAA/B,CAA7C,CAAD,CAAR;AACH;AACJ;AACJ,KA9FD;;AA+FAP,IAAAA,KAAK,CAACuG,cAAN,GAAuB,UAAUhI,KAAV,EAAiBqD,KAAjB,EAAwB;AAC3C,UAAIZ,EAAE,GAAGhB,KAAK,CAACD,KAAf;AAAA,UAAsBmB,GAAG,GAAGF,EAAE,CAACE,GAA/B;AAAA,UAAoCC,GAAG,GAAGH,EAAE,CAACG,GAA7C;AAAA,UAAkD+E,IAAI,GAAGlF,EAAE,CAACkF,IAA5D;AAAA,UAAkEoB,YAAY,GAAGtG,EAAE,CAACsG,YAApF;AAAA,UAAkG7G,MAAM,GAAGO,EAAE,CAACP,MAA9G;AACA,aAAOhB,OAAO,CAAC8G,cAAR,CAAuBhI,KAAvB,EAA8BqD,KAA9B,EAAqCV,GAArC,EAA0CC,GAA1C,EAA+C+E,IAA/C,EAAqDoB,YAArD,EAAmE7G,MAAnE,CAAP;AACH,KAHD;;AAIAT,IAAAA,KAAK,CAACuH,KAAN,GAAc,UAAUhE,CAAV,EAAa;AACvBA,MAAAA,CAAC,CAACgB,cAAF;AACAV,MAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,WAA7B,EAA0CxH,KAAK,CAACmE,eAAhD;AACAN,MAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,WAA7B,EAA0CxH,KAAK,CAAC+D,eAAhD;AACAF,MAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,SAA7B,EAAwCxH,KAAK,CAACiE,SAA9C;AACAJ,MAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,UAA7B,EAAyCxH,KAAK,CAACiE,SAA/C;AACAJ,MAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,aAA7B,EAA4CxH,KAAK,CAACiE,SAAlD;AACA,UAAIjE,KAAK,CAACK,KAAN,CAAYE,iBAAZ,KAAkC,CAAC,CAAnC,IACAP,KAAK,CAACK,KAAN,CAAYC,eAAZ,CAA4B,CAA5B,MAAmC,CAAC,CADpC,IAEAN,KAAK,CAACK,KAAN,CAAYC,eAAZ,CAA4B,CAA5B,MAAmC,CAAC,CAFxC,EAGI,OAAO,IAAP;;AACJN,MAAAA,KAAK,CAAC4E,QAAN,CAAe;AAAErE,QAAAA,iBAAiB,EAAE,CAAC,CAAtB;AAAyBD,QAAAA,eAAe,EAAE,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN;AAA1C,OAAf,EAAqE,YAAY;AAC7EN,QAAAA,KAAK,CAACwG,iBAAN;AACH,OAFD;AAGH,KAdD;;AAeAxG,IAAAA,KAAK,CAACwG,iBAAN,GAA0B,YAAY;AAClCxG,MAAAA,KAAK,CAAC4E,QAAN,CAAe;AAAE/D,QAAAA,SAAS,EAAE;AAAb,OAAf;;AACA,UAAIG,EAAE,GAAGhB,KAAK,CAACD,KAAf;AAAA,UAAsB0H,aAAa,GAAGzG,EAAE,CAACyG,aAAzC;AAAA,UAAwDhH,MAAM,GAAGO,EAAE,CAACP,MAApE;;AACA,UAAIgH,aAAJ,EAAmB;AACfA,QAAAA,aAAa,CAAChH,MAAD,CAAb;AACH;AACJ,KAND;;AAOAT,IAAAA,KAAK,CAACqF,oBAAN,GAA6B,YAAY;AACrC,UAAI,CAACrF,KAAK,CAACD,KAAN,CAAY2H,UAAb,IACA,CAAC1H,KAAK,CAACC,QADP,IAEAD,KAAK,CAACC,QAAN,CAAeoB,OAAf,KAA2B,IAF/B,EAGI;AACJ,UAAIsG,QAAQ,GAAGC,MAAM,CAACC,gBAAP,CAAwB7H,KAAK,CAACC,QAAN,CAAeoB,OAAvC,CAAf;AACA,UAAIyG,UAAU,GAAGC,QAAQ,CAACJ,QAAQ,CAACnF,KAAV,EAAiB,EAAjB,CAAzB;AACA,UAAIwF,WAAW,GAAGD,QAAQ,CAACJ,QAAQ,CAACrF,MAAV,EAAkB,EAAlB,CAA1B;AACA,UAAI2F,WAAW,GAAGF,QAAQ,CAACJ,QAAQ,CAACM,WAAV,EAAuB,EAAvB,CAA1B;AACA,UAAIC,UAAU,GAAGH,QAAQ,CAACJ,QAAQ,CAACO,UAAV,EAAsB,EAAtB,CAAzB;AACA,UAAIC,GAAG,GAAG,EAAV;;AACA,WAAK,IAAIrJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkB,KAAK,CAACoI,UAAN,GAAmB,CAAvC,EAA0CtJ,CAAC,EAA3C,EAA+C;AAC3C,YAAIuJ,UAAU,GAAG,IAAjB;AACA,YAAIC,SAAS,GAAG,IAAhB;;AACA,YAAItI,KAAK,CAACI,QAAN,CAAetB,CAAf,EAAkBuC,OAAtB,EAA+B;AAC3B,cAAIkH,QAAQ,GAAGvI,KAAK,CAACI,QAAN,CAAetB,CAAf,EAAkBuC,OAAlB,CAA0BE,qBAA1B,EAAf;;AACA8G,UAAAA,UAAU,GAAGE,QAAQ,CAACjG,MAAtB;AACAgG,UAAAA,SAAS,GAAGC,QAAQ,CAAC/F,KAArB;AACH;;AACD,YAAIxC,KAAK,CAACD,KAAN,CAAYkB,SAAZ,KAA0BvB,OAAO,CAACyC,SAAR,CAAkBO,IAA5C,IACA1C,KAAK,CAACD,KAAN,CAAYkB,SAAZ,KAA0BvB,OAAO,CAACyC,SAAR,CAAkBC,KADhD,EACuD;AACnD+F,UAAAA,GAAG,CAACK,IAAJ,CAAS,CACL5C,IAAI,CAAC6C,KAAL,CAAYX,UAAU,GAAG9H,KAAK,CAACoI,UAApB,GAAkCtJ,CAAlC,GAAsCmJ,WAAtC,GAAoDK,SAAS,GAAG,CAA3E,CADK,EAEL,CAAC1C,IAAI,CAAC6C,KAAL,CAAW,CAACJ,UAAU,GAAGL,WAAd,IAA6B,CAAxC,CAFI,CAAT;AAIH,SAND,MAOK;AACDG,UAAAA,GAAG,CAACK,IAAJ,CAAS,CACL5C,IAAI,CAAC6C,KAAL,CAAYT,WAAW,GAAGhI,KAAK,CAACoI,UAArB,GAAmCtJ,CAAnC,GAAuCoJ,UAAvC,GAAoDG,UAAU,GAAG,CAA5E,CADK,EAEL,CAACzC,IAAI,CAAC6C,KAAL,CAAW,CAACH,SAAS,GAAGR,UAAb,IAA2B,CAAtC,CAFI,CAAT;AAIH;AACJ;;AACD9H,MAAAA,KAAK,CAAC4E,QAAN,CAAe;AAAE9D,QAAAA,WAAW,EAAEqH;AAAf,OAAf;AACH,KAlCD;;AAmCA,QAAIpI,KAAK,CAACmG,IAAN,KAAe,CAAnB,EAAsB;AAClB,YAAM,IAAIwC,KAAJ,CAAU,6CAAV,CAAN;AACH;;AACD1I,IAAAA,KAAK,CAACoI,UAAN,GAAmB,CAACrI,KAAK,CAACoB,GAAN,GAAYpB,KAAK,CAACmB,GAAnB,IAA0BlB,KAAK,CAACD,KAAN,CAAYmG,IAAzD;AACAlG,IAAAA,KAAK,CAACmE,eAAN,GAAwB1E,OAAO,CAACkJ,IAAR,CAAa3I,KAAK,CAAC8F,WAAnB,CAAxB;AACA9F,IAAAA,KAAK,CAAC+D,eAAN,GAAwBtE,OAAO,CAACkJ,IAAR,CAAa3I,KAAK,CAAC+F,WAAnB,CAAxB;AACA/F,IAAAA,KAAK,CAACiE,SAAN,GAAkBxE,OAAO,CAACkJ,IAAR,CAAa3I,KAAK,CAACuH,KAAnB,CAAlB;AACAvH,IAAAA,KAAK,CAACG,SAAN,GAAkBJ,KAAK,CAACU,MAAN,CAAaE,GAAb,CAAiB,YAAY;AAAE,aAAOpB,KAAK,CAACW,SAAN,EAAP;AAA2B,KAA1D,CAAlB;;AACA,SAAK,IAAIpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkB,KAAK,CAACoI,UAAN,GAAmB,CAAvC,EAA0CtJ,CAAC,EAA3C,EAA+C;AAC3CkB,MAAAA,KAAK,CAACI,QAAN,CAAetB,CAAf,IAAoBS,KAAK,CAACW,SAAN,EAApB;AACH;;AACD,WAAOF,KAAP;AACH;;AACDH,EAAAA,KAAK,CAACvC,SAAN,CAAgBsL,iBAAhB,GAAoC,YAAY;AAC5C,QAAI5I,KAAK,GAAG,IAAZ;;AACA,QAAIgB,EAAE,GAAG,KAAKjB,KAAd;AAAA,QAAqBU,MAAM,GAAGO,EAAE,CAACP,MAAjC;AAAA,QAAyCS,GAAG,GAAGF,EAAE,CAACE,GAAlD;AAAA,QAAuDgF,IAAI,GAAGlF,EAAE,CAACkF,IAAjE;AACA,SAAK2C,cAAL,GAAsBjB,MAAM,CAACkB,cAAP,GAChB,IAAIlB,MAAM,CAACkB,cAAX,CAA0B,KAAK5D,QAA/B,CADgB,GAEhB;AACE6D,MAAAA,OAAO,EAAE,YAAY;AAAE,eAAOnB,MAAM,CAAC9D,gBAAP,CAAwB,QAAxB,EAAkC9D,KAAK,CAACkF,QAAxC,CAAP;AAA2D,OADpF;AAEE8D,MAAAA,SAAS,EAAE,YAAY;AAAE,eAAOpB,MAAM,CAACJ,mBAAP,CAA2B,QAA3B,EAAqCxH,KAAK,CAACkF,QAA3C,CAAP;AAA8D;AAFzF,KAFN;AAMArB,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwC,KAAK0B,mBAA7C,EAAkE;AAC9DxB,MAAAA,OAAO,EAAE;AADqD,KAAlE;AAGAH,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC,KAAK0B,mBAA5C,EAAiE;AAC7DxB,MAAAA,OAAO,EAAE;AADoD,KAAjE;AAGA,KAAC,KAAKjE,KAAL,CAAWuH,YAAZ,IAA4B7H,OAAO,CAACwJ,mBAAR,CAA4B,KAAKlJ,KAAL,CAAWU,MAAvC,CAA5B;AACA,SAAKV,KAAL,CAAWU,MAAX,CAAkByI,OAAlB,CAA0B,UAAU3K,KAAV,EAAiB;AACvC,aAAOkB,OAAO,CAAC0J,eAAR,CAAwB5K,KAAxB,EAA+ByB,KAAK,CAACD,KAAN,CAAYmB,GAA3C,EAAgDlB,KAAK,CAACD,KAAN,CAAYoB,GAA5D,CAAP;AACH,KAFD;AAGA,SAAK0H,cAAL,CAAoBE,OAApB,CAA4B,KAAK9I,QAAL,CAAcoB,OAA1C;AACA5B,IAAAA,OAAO,CAAC0F,eAAR,CAAwB,KAAKzD,SAAL,EAAxB,EAA0C,KAAKX,UAAL,EAA1C,EAA6D,KAAKhB,KAAL,CAAWqF,GAAxE;AACA,SAAKC,oBAAL;AACA5E,IAAAA,MAAM,CAACyI,OAAP,CAAe,UAAU3K,KAAV,EAAiB;AAC5B,UAAI,CAACkB,OAAO,CAAC2J,eAAR,CAAwBlI,GAAxB,EAA6B3C,KAA7B,EAAoC2H,IAApC,CAAL,EAAgD;AAC5C9C,QAAAA,OAAO,CAACC,IAAR,CAAa,2KAAb;AACH;AACJ,KAJD;AAKH,GA3BD;;AA4BAxD,EAAAA,KAAK,CAACvC,SAAN,CAAgB+L,kBAAhB,GAAqC,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AACjE,QAAIvI,EAAE,GAAG,KAAKjB,KAAd;AAAA,QAAqBoB,GAAG,GAAGH,EAAE,CAACG,GAA9B;AAAA,QAAmCD,GAAG,GAAGF,EAAE,CAACE,GAA5C;AAAA,QAAiDgF,IAAI,GAAGlF,EAAE,CAACkF,IAA3D;AAAA,QAAiEzF,MAAM,GAAGO,EAAE,CAACP,MAA7E;AAAA,QAAqF2E,GAAG,GAAGpE,EAAE,CAACoE,GAA9F;;AACA,QAAIkE,SAAS,CAACnI,GAAV,KAAkBA,GAAlB,IACAmI,SAAS,CAACpI,GAAV,KAAkBA,GADlB,IAEAoI,SAAS,CAACpD,IAAV,KAAmBA,IAFvB,EAE6B;AACzB,WAAK9F,QAAL,GAAgB,EAAhB;AACA,WAAKgI,UAAL,GAAkB,CAACjH,GAAG,GAAGD,GAAP,IAAcgF,IAAhC;;AACA,WAAK,IAAIpH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKsJ,UAAL,GAAkB,CAAtC,EAAyCtJ,CAAC,EAA1C,EAA8C;AAC1C,aAAKsB,QAAL,CAActB,CAAd,IAAmBS,KAAK,CAACW,SAAN,EAAnB;AACH;AACJ;;AACDT,IAAAA,OAAO,CAAC0F,eAAR,CAAwB,KAAKzD,SAAL,EAAxB,EAA0C,KAAKX,UAAL,EAA1C,EAA6DqE,GAA7D,EAXiE,CAYjE;AACA;AACA;;AACA,QAAIkE,SAAS,CAACnI,GAAV,KAAkBA,GAAlB,IACAmI,SAAS,CAACpI,GAAV,KAAkBA,GADlB,IAEAoI,SAAS,CAACpD,IAAV,KAAmBA,IAFnB,IAGAqD,SAAS,CAACzI,WAAV,CAAsB7B,MAAtB,KAAiC,KAAKoB,KAAL,CAAWS,WAAX,CAAuB7B,MAH5D,EAGoE;AAChE,WAAKoG,oBAAL;AACA5E,MAAAA,MAAM,CAACyI,OAAP,CAAe,UAAU3K,KAAV,EAAiB;AAC5B,YAAI,CAACkB,OAAO,CAAC2J,eAAR,CAAwBlI,GAAxB,EAA6B3C,KAA7B,EAAoC2H,IAApC,CAAL,EAAgD;AAC5C9C,UAAAA,OAAO,CAACC,IAAR,CAAa,2KAAb;AACH;AACJ,OAJD;AAKH;AACJ,GA1BD;;AA2BAxD,EAAAA,KAAK,CAACvC,SAAN,CAAgBkM,oBAAhB,GAAuC,YAAY;AAC/C,QAAIC,OAAO,GAAG;AACVzF,MAAAA,OAAO,EAAE;AADC,KAAd;AAGAH,IAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,WAA7B,EAA0C,KAAKhC,mBAA/C,EAAoEiE,OAApE,EAJ+C,CAK/C;;AACA5F,IAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,WAA7B,EAA0C,KAAKrD,eAA/C;AACAN,IAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,WAA7B,EAA0C,KAAKzD,eAA/C;AACAF,IAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,YAA7B,EAA2C,KAAKhC,mBAAhD;AACA3B,IAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,SAA7B,EAAwC,KAAKvD,SAA7C;AACAJ,IAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,UAA7B,EAAyC,KAAKvD,SAA9C;AACA,SAAK4E,cAAL,CAAoBG,SAApB,CAA8B,KAAK/I,QAAL,CAAcoB,OAA5C;AACH,GAZD;;AAaAxB,EAAAA,KAAK,CAACvC,SAAN,CAAgBoM,MAAhB,GAAyB,YAAY;AACjC,QAAI1J,KAAK,GAAG,IAAZ;;AACA,QAAIgB,EAAE,GAAG,KAAKjB,KAAd;AAAA,QAAqB4J,WAAW,GAAG3I,EAAE,CAAC2I,WAAtC;AAAA,QAAmDC,WAAW,GAAG5I,EAAE,CAAC4I,WAApE;AAAA,QAAiFlD,EAAE,GAAG1F,EAAE,CAAC0G,UAAzF;AAAA,QAAqGA,UAAU,GAAGhB,EAAE,KAAK,KAAK,CAAZ,GAAgB,YAAY;AAAE,aAAO,IAAP;AAAc,KAA5C,GAA+CA,EAAjK;AAAA,QAAqKjG,MAAM,GAAGO,EAAE,CAACP,MAAjL;AAAA,QAAyLS,GAAG,GAAGF,EAAE,CAACE,GAAlM;AAAA,QAAuMC,GAAG,GAAGH,EAAE,CAACG,GAAhN;AAAA,QAAqNmG,YAAY,GAAGtG,EAAE,CAACsG,YAAvO;AAAA,QAAqP7B,QAAQ,GAAGzE,EAAE,CAACyE,QAAnQ;AACA,QAAIoE,EAAE,GAAG,KAAKxJ,KAAd;AAAA,QAAqBE,iBAAiB,GAAGsJ,EAAE,CAACtJ,iBAA5C;AAAA,QAA+DC,aAAa,GAAGqJ,EAAE,CAACrJ,aAAlF;AAAA,QAAiGM,WAAW,GAAG+I,EAAE,CAAC/I,WAAlH;AACA,WAAO6I,WAAW,CAAC;AACf5J,MAAAA,KAAK,EAAE;AACH+J,QAAAA,KAAK,EAAE;AACH;AACA;AACAC,UAAAA,SAAS,EAAE,UAHR;AAIHC,UAAAA,MAAM,EAAEzJ,iBAAiB,GAAG,CAAC,CAArB,GACF,UADE,GAEF,KAAKR,KAAL,CAAW0E,cAAX,GACIhF,OAAO,CAACmH,UAAR,CAAmB,KAAK7G,KAAL,CAAWkB,SAA9B,IACI,WADJ,GAEI,WAHR,GAIIR,MAAM,CAACxB,MAAP,KAAkB,CAAlB,IAAuB,CAACwG,QAAxB,GACI,SADJ,GAEI;AAZX,SADJ;AAeHwE,QAAAA,WAAW,EAAExE,QAAQ,GAAGhG,OAAO,CAACyK,MAAX,GAAoB,KAAK9F,gBAf3C;AAgBH+F,QAAAA,YAAY,EAAE1E,QAAQ,GAAGhG,OAAO,CAACyK,MAAX,GAAoB,KAAK5E,iBAhB5C;AAiBH8E,QAAAA,GAAG,EAAE,KAAKnK;AAjBP,OADQ;AAoBfoK,MAAAA,SAAS,EAAE,KAAKhK,KAAL,CAAWE,iBAAX,GAA+B,CAAC,CApB5B;AAqBfkF,MAAAA,QAAQ,EAAEA,QArBK;AAsBfzC,MAAAA,QAAQ,EAAEpE,cAAc,CAACkC,WAAW,CAACH,GAAZ,CAAgB,UAAU2J,MAAV,EAAkB1I,KAAlB,EAAyB2I,GAAzB,EAA8B;AACnE,eAAO7C,UAAU,CAAC;AACd3H,UAAAA,KAAK,EAAE;AACH+J,YAAAA,KAAK,EAAE9J,KAAK,CAACD,KAAN,CAAYkB,SAAZ,KAA0BvB,OAAO,CAACyC,SAAR,CAAkBO,IAA5C,IACH1C,KAAK,CAACD,KAAN,CAAYkB,SAAZ,KAA0BvB,OAAO,CAACyC,SAAR,CAAkBC,KADzC,GAED;AACEoI,cAAAA,QAAQ,EAAE,UADZ;AAEEnI,cAAAA,IAAI,EAAEiI,MAAM,CAAC,CAAD,CAAN,GAAY,IAFpB;AAGEG,cAAAA,SAAS,EAAEH,MAAM,CAAC,CAAD,CAAN,GAAY;AAHzB,aAFC,GAOD;AACEE,cAAAA,QAAQ,EAAE,UADZ;AAEEjI,cAAAA,GAAG,EAAE+H,MAAM,CAAC,CAAD,CAAN,GAAY,IAFnB;AAGEI,cAAAA,UAAU,EAAEJ,MAAM,CAAC,CAAD,CAAN,GAAY;AAH1B,aARH;AAaHjE,YAAAA,GAAG,EAAE,SAASzE,KAbX;AAcHwI,YAAAA,GAAG,EAAEpK,KAAK,CAACI,QAAN,CAAewB,KAAf;AAdF,WADO;AAiBdA,UAAAA,KAAK,EAAEA;AAjBO,SAAD,CAAjB;AAmBH,OApBwB,CAAD,EAoBpBnB,MAAM,CAACE,GAAP,CAAW,UAAUpC,KAAV,EAAiBqD,KAAjB,EAAwB;AACnC,YAAIyI,SAAS,GAAGrK,KAAK,CAACK,KAAN,CAAYE,iBAAZ,KAAkCqB,KAAlD;AACA,eAAOgI,WAAW,CAAC;AACfhI,UAAAA,KAAK,EAAEA,KADQ;AAEfrD,UAAAA,KAAK,EAAEA,KAFQ;AAGf8L,UAAAA,SAAS,EAAEA,SAHI;AAIftK,UAAAA,KAAK,EAAE;AACH+J,YAAAA,KAAK,EAAE;AACHU,cAAAA,QAAQ,EAAE,UADP;AAEHG,cAAAA,MAAM,EAAEnK,aAAa,CAACoB,KAAD,CAFlB;AAGHoI,cAAAA,MAAM,EAAEvE,QAAQ,GAAG,SAAH,GAAe4E,SAAS,GAAG,UAAH,GAAgB,MAHrD;AAIHO,cAAAA,UAAU,EAAE,MAJT;AAKHC,cAAAA,WAAW,EAAE,MALV;AAMHC,cAAAA,gBAAgB,EAAE,MANf;AAOHC,cAAAA,aAAa,EAAE,MAPZ;AAQHC,cAAAA,YAAY,EAAE;AARX,aADJ;AAWH3E,YAAAA,GAAG,EAAEzE,KAXF;AAYHqJ,YAAAA,QAAQ,EAAExF,QAAQ,GAAGxH,SAAH,GAAe,CAZ9B;AAaH,6BAAiBqJ,YAAY,GAAGnG,GAAH,GAASV,MAAM,CAACmB,KAAK,GAAG,CAAT,CAAN,IAAqBT,GAbxD;AAcH,6BAAiBmG,YAAY,GAAGpG,GAAH,GAAST,MAAM,CAACmB,KAAK,GAAG,CAAT,CAAN,IAAqBV,GAdxD;AAeH,6BAAiB3C,KAfd;AAgBH2M,YAAAA,SAAS,EAAE,KAhBR;AAiBHd,YAAAA,GAAG,EAAEpK,KAAK,CAACG,SAAN,CAAgByB,KAAhB,CAjBF;AAkBHuJ,YAAAA,IAAI,EAAE,QAlBH;AAmBHnF,YAAAA,SAAS,EAAEP,QAAQ,GAAGhG,OAAO,CAACyK,MAAX,GAAoBlK,KAAK,CAACgG,SAnB1C;AAoBHS,YAAAA,OAAO,EAAEhB,QAAQ,GAAGhG,OAAO,CAACyK,MAAX,GAAoBlK,KAAK,CAACyG;AApBxC;AAJQ,SAAD,CAAlB;AA2BH,OA7BG,CApBoB;AAtBT,KAAD,CAAlB;AAyEH,GA7ED;;AA8EA5G,EAAAA,KAAK,CAACuL,YAAN,GAAqB;AACjBlF,IAAAA,IAAI,EAAE,CADW;AAEjBjF,IAAAA,SAAS,EAAEvB,OAAO,CAACyC,SAAR,CAAkBC,KAFZ;AAGjBgD,IAAAA,GAAG,EAAE,KAHY;AAIjBK,IAAAA,QAAQ,EAAE,KAJO;AAKjB6B,IAAAA,YAAY,EAAE,KALG;AAMjB7C,IAAAA,cAAc,EAAE,KANC;AAOjBvD,IAAAA,GAAG,EAAE,CAPY;AAQjBC,IAAAA,GAAG,EAAE;AARY,GAArB;AAUA,SAAOtB,KAAP;AACH,CA1iB0B,CA0iBzBN,KAAK,CAAC8L,SA1iBmB,CAA3B;;AA2iBA/L,OAAO,CAACgM,OAAR,GAAkBzL,KAAlB","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nvar types_1 = require(\"./types\");\nvar INCREASE_KEYS = ['ArrowRight', 'ArrowUp', 'k', 'PageUp'];\nvar DECREASE_KEYS = ['ArrowLeft', 'ArrowDown', 'j', 'PageDown'];\nvar Range = /** @class */ (function (_super) {\n    __extends(Range, _super);\n    function Range(props) {\n        var _this = _super.call(this, props) || this;\n        _this.trackRef = React.createRef();\n        _this.thumbRefs = [];\n        _this.markRefs = [];\n        _this.state = {\n            draggedTrackPos: [-1, -1],\n            draggedThumbIndex: -1,\n            thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) { return i; }),\n            isChanged: false,\n            markOffsets: []\n        };\n        _this.getOffsets = function () {\n            var _a = _this.props, direction = _a.direction, values = _a.values, min = _a.min, max = _a.max;\n            var trackElement = _this.trackRef.current;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackPadding = utils_1.getPaddingAndBorder(trackElement);\n            return _this.getThumbs().map(function (thumb, index) {\n                var thumbOffsets = { x: 0, y: 0 };\n                var thumbRect = thumb.getBoundingClientRect();\n                var thumbMargins = utils_1.getMargin(thumb);\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width * utils_1.relativeValue(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Left:\n                        thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width -\n                                trackRect.width * utils_1.relativeValue(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Up:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height -\n                                trackRect.height * utils_1.relativeValue(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Down:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height * utils_1.relativeValue(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    default:\n                        return utils_1.assertUnreachable(direction);\n                }\n            });\n        };\n        _this.getThumbs = function () {\n            if (_this.trackRef && _this.trackRef.current) {\n                return Array.from(_this.trackRef.current.children).filter(function (el) {\n                    return el.hasAttribute('aria-valuenow');\n                });\n            }\n            console.warn('No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?');\n            return [];\n        };\n        _this.getTargetIndex = function (e) {\n            return _this.getThumbs().findIndex(function (child) { return child === e.target || child.contains(e.target); });\n        };\n        _this.addTouchEvents = function (e) {\n            document.addEventListener('touchmove', _this.schdOnTouchMove, {\n                passive: false\n            });\n            document.addEventListener('touchend', _this.schdOnEnd, {\n                passive: false\n            });\n            document.addEventListener('touchcancel', _this.schdOnEnd, {\n                passive: false\n            });\n        };\n        _this.addMouseEvents = function (e) {\n            document.addEventListener('mousemove', _this.schdOnMouseMove);\n            document.addEventListener('mouseup', _this.schdOnEnd);\n        };\n        _this.onMouseDownTrack = function (e) {\n            var _a;\n            if (e.button !== 0)\n                return;\n            e.persist();\n            e.preventDefault();\n            _this.addMouseEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.clientX, e.clientY]\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = utils_1.getClosestThumbIndex(_this.thumbRefs.map(function (t) { return t.current; }), e.clientX, e.clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n        };\n        _this.onResize = function () {\n            utils_1.translateThumbs(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n            _this.calculateMarkOffsets();\n        };\n        _this.onTouchStartTrack = function (e) {\n            var _a;\n            e.persist();\n            _this.addTouchEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY]\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = utils_1.getClosestThumbIndex(_this.thumbRefs.map(function (t) { return t.current; }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n        };\n        _this.onMouseOrTouchStart = function (e) {\n            if (_this.props.disabled)\n                return;\n            var isTouch = utils_1.isTouchEvent(e);\n            if (!isTouch && e.button !== 0)\n                return;\n            var index = _this.getTargetIndex(e);\n            if (index === -1)\n                return;\n            if (isTouch) {\n                _this.addTouchEvents(e);\n            }\n            else {\n                _this.addMouseEvents(e);\n            }\n            _this.setState({\n                draggedThumbIndex: index,\n                thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n                    if (i === index) {\n                        return Math.max.apply(Math, _this.state.thumbZIndexes);\n                    }\n                    return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n                })\n            });\n        };\n        _this.onMouseMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.clientX, e.clientY);\n        };\n        _this.onTouchMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        _this.onKeyDown = function (e) {\n            var _a = _this.props, values = _a.values, onChange = _a.onChange, step = _a.step, rtl = _a.rtl;\n            var isChanged = _this.state.isChanged;\n            var index = _this.getTargetIndex(e.nativeEvent);\n            var inverter = rtl ? -1 : 1;\n            if (index === -1)\n                return;\n            if (INCREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange(utils_1.replaceAt(values, index, _this.normalizeValue(values[index] + inverter * (e.key === 'PageUp' ? step * 10 : step), index)));\n            }\n            else if (DECREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange(utils_1.replaceAt(values, index, _this.normalizeValue(values[index] -\n                    inverter * (e.key === 'PageDown' ? step * 10 : step), index)));\n            }\n            else if (e.key === 'Tab') {\n                _this.setState({ draggedThumbIndex: -1 }, function () {\n                    // If key pressed when thumb was moving, fire onFinalChange\n                    if (isChanged) {\n                        _this.fireOnFinalChange();\n                    }\n                });\n            }\n            else {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            }\n        };\n        _this.onKeyUp = function (e) {\n            var isChanged = _this.state.isChanged;\n            _this.setState({\n                draggedThumbIndex: -1\n            }, function () {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            });\n        };\n        _this.onMove = function (clientX, clientY) {\n            var _a = _this.state, draggedThumbIndex = _a.draggedThumbIndex, draggedTrackPos = _a.draggedTrackPos;\n            var _b = _this.props, direction = _b.direction, min = _b.min, max = _b.max, onChange = _b.onChange, values = _b.values, step = _b.step, rtl = _b.rtl;\n            if (draggedThumbIndex === -1 &&\n                draggedTrackPos[0] === -1 &&\n                draggedTrackPos[1] === -1)\n                return null;\n            var trackElement = _this.trackRef.current;\n            // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n            if (!trackElement)\n                return null;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackLength = utils_1.isVertical(direction)\n                ? trackRect.height\n                : trackRect.width;\n            if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n                // calculate how much it moved since the last update\n                var dX = clientX - draggedTrackPos[0];\n                var dY = clientY - draggedTrackPos[1];\n                // calculate the delta of the value\n                var deltaValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                    case types_1.Direction.Left:\n                        deltaValue = (dX / trackLength) * (max - min);\n                        break;\n                    case types_1.Direction.Down:\n                    case types_1.Direction.Up:\n                        deltaValue = (dY / trackLength) * (max - min);\n                        break;\n                    default:\n                        utils_1.assertUnreachable(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    deltaValue *= -1;\n                }\n                if (Math.abs(deltaValue) >= step / 2) {\n                    // adjust delta so it fits into the range\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        if ((values[i] === max && Math.sign(deltaValue) === 1) ||\n                            (values[i] === min && Math.sign(deltaValue) === -1))\n                            return;\n                        var thumbValue = values[i] + deltaValue;\n                        if (thumbValue > max)\n                            deltaValue = max - values[i];\n                        else if (thumbValue < min)\n                            deltaValue = min - values[i];\n                    }\n                    // add the delta to each thumb\n                    var newValues = values.slice(0);\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        newValues = utils_1.replaceAt(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n                    }\n                    _this.setState({\n                        draggedTrackPos: [clientX, clientY]\n                    });\n                    onChange(newValues);\n                }\n            }\n            else {\n                var newValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        newValue =\n                            ((clientX - trackRect.left) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Left:\n                        newValue =\n                            ((trackLength - (clientX - trackRect.left)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    case types_1.Direction.Down:\n                        newValue =\n                            ((clientY - trackRect.top) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Up:\n                        newValue =\n                            ((trackLength - (clientY - trackRect.top)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    default:\n                        utils_1.assertUnreachable(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    newValue = max + min - newValue;\n                }\n                if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n                    onChange(utils_1.replaceAt(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n                }\n            }\n        };\n        _this.normalizeValue = function (value, index) {\n            var _a = _this.props, min = _a.min, max = _a.max, step = _a.step, allowOverlap = _a.allowOverlap, values = _a.values;\n            return utils_1.normalizeValue(value, index, min, max, step, allowOverlap, values);\n        };\n        _this.onEnd = function (e) {\n            e.preventDefault();\n            document.removeEventListener('mousemove', _this.schdOnMouseMove);\n            document.removeEventListener('touchmove', _this.schdOnTouchMove);\n            document.removeEventListener('mouseup', _this.schdOnEnd);\n            document.removeEventListener('touchend', _this.schdOnEnd);\n            document.removeEventListener('touchcancel', _this.schdOnEnd);\n            if (_this.state.draggedThumbIndex === -1 &&\n                _this.state.draggedTrackPos[0] === -1 &&\n                _this.state.draggedTrackPos[1] === -1)\n                return null;\n            _this.setState({ draggedThumbIndex: -1, draggedTrackPos: [-1, -1] }, function () {\n                _this.fireOnFinalChange();\n            });\n        };\n        _this.fireOnFinalChange = function () {\n            _this.setState({ isChanged: false });\n            var _a = _this.props, onFinalChange = _a.onFinalChange, values = _a.values;\n            if (onFinalChange) {\n                onFinalChange(values);\n            }\n        };\n        _this.calculateMarkOffsets = function () {\n            if (!_this.props.renderMark ||\n                !_this.trackRef ||\n                _this.trackRef.current === null)\n                return;\n            var elStyles = window.getComputedStyle(_this.trackRef.current);\n            var trackWidth = parseInt(elStyles.width, 10);\n            var trackHeight = parseInt(elStyles.height, 10);\n            var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n            var paddingTop = parseInt(elStyles.paddingTop, 10);\n            var res = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                var markHeight = 9999;\n                var markWidth = 9999;\n                if (_this.markRefs[i].current) {\n                    var markRect = _this.markRefs[i].current.getBoundingClientRect();\n                    markHeight = markRect.height;\n                    markWidth = markRect.width;\n                }\n                if (_this.props.direction === types_1.Direction.Left ||\n                    _this.props.direction === types_1.Direction.Right) {\n                    res.push([\n                        Math.round((trackWidth / _this.numOfMarks) * i + paddingLeft - markWidth / 2),\n                        -Math.round((markHeight - trackHeight) / 2)\n                    ]);\n                }\n                else {\n                    res.push([\n                        Math.round((trackHeight / _this.numOfMarks) * i + paddingTop - markHeight / 2),\n                        -Math.round((markWidth - trackWidth) / 2)\n                    ]);\n                }\n            }\n            _this.setState({ markOffsets: res });\n        };\n        if (props.step === 0) {\n            throw new Error('\"step\" property should be a positive number');\n        }\n        _this.numOfMarks = (props.max - props.min) / _this.props.step;\n        _this.schdOnMouseMove = utils_1.schd(_this.onMouseMove);\n        _this.schdOnTouchMove = utils_1.schd(_this.onTouchMove);\n        _this.schdOnEnd = utils_1.schd(_this.onEnd);\n        _this.thumbRefs = props.values.map(function () { return React.createRef(); });\n        for (var i = 0; i < _this.numOfMarks + 1; i++) {\n            _this.markRefs[i] = React.createRef();\n        }\n        return _this;\n    }\n    Range.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, values = _a.values, min = _a.min, step = _a.step;\n        this.resizeObserver = window.ResizeObserver\n            ? new window.ResizeObserver(this.onResize)\n            : {\n                observe: function () { return window.addEventListener('resize', _this.onResize); },\n                unobserve: function () { return window.removeEventListener('resize', _this.onResize); }\n            };\n        document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        document.addEventListener('mousedown', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        !this.props.allowOverlap && utils_1.checkInitialOverlap(this.props.values);\n        this.props.values.forEach(function (value) {\n            return utils_1.checkBoundaries(value, _this.props.min, _this.props.max);\n        });\n        this.resizeObserver.observe(this.trackRef.current);\n        utils_1.translateThumbs(this.getThumbs(), this.getOffsets(), this.props.rtl);\n        this.calculateMarkOffsets();\n        values.forEach(function (value) {\n            if (!utils_1.isStepDivisible(min, value, step)) {\n                console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n            }\n        });\n    };\n    Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, max = _a.max, min = _a.min, step = _a.step, values = _a.values, rtl = _a.rtl;\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step) {\n            this.markRefs = [];\n            this.numOfMarks = (max - min) / step;\n            for (var i = 0; i < this.numOfMarks + 1; i++) {\n                this.markRefs[i] = React.createRef();\n            }\n        }\n        utils_1.translateThumbs(this.getThumbs(), this.getOffsets(), rtl);\n        // ensure offsets are calculated when the refs for the marks have been created\n        // and those refs have been mounted to the dom\n        // on the state update in calculateOffsets with new markOffsets are calculated\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step ||\n            prevState.markOffsets.length !== this.state.markOffsets.length) {\n            this.calculateMarkOffsets();\n            values.forEach(function (value) {\n                if (!utils_1.isStepDivisible(min, value, step)) {\n                    console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n                }\n            });\n        }\n    };\n    Range.prototype.componentWillUnmount = function () {\n        var options = {\n            passive: false\n        };\n        document.removeEventListener('mousedown', this.onMouseOrTouchStart, options);\n        // These need to be removed!!\n        document.removeEventListener('mousemove', this.schdOnMouseMove);\n        document.removeEventListener('touchmove', this.schdOnTouchMove);\n        document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n        document.removeEventListener('mouseup', this.schdOnEnd);\n        document.removeEventListener('touchend', this.schdOnEnd);\n        this.resizeObserver.unobserve(this.trackRef.current);\n    };\n    Range.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, renderTrack = _a.renderTrack, renderThumb = _a.renderThumb, _b = _a.renderMark, renderMark = _b === void 0 ? function () { return null; } : _b, values = _a.values, min = _a.min, max = _a.max, allowOverlap = _a.allowOverlap, disabled = _a.disabled;\n        var _c = this.state, draggedThumbIndex = _c.draggedThumbIndex, thumbZIndexes = _c.thumbZIndexes, markOffsets = _c.markOffsets;\n        return renderTrack({\n            props: {\n                style: {\n                    // creates stacking context that prevents z-index applied to thumbs\n                    // interfere with other elements\n                    transform: 'scale(1)',\n                    cursor: draggedThumbIndex > -1\n                        ? 'grabbing'\n                        : this.props.draggableTrack\n                            ? utils_1.isVertical(this.props.direction)\n                                ? 'ns-resize'\n                                : 'ew-resize'\n                            : values.length === 1 && !disabled\n                                ? 'pointer'\n                                : 'inherit'\n                },\n                onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n                onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n                ref: this.trackRef\n            },\n            isDragged: this.state.draggedThumbIndex > -1,\n            disabled: disabled,\n            children: __spreadArrays(markOffsets.map(function (offset, index, arr) {\n                return renderMark({\n                    props: {\n                        style: _this.props.direction === types_1.Direction.Left ||\n                            _this.props.direction === types_1.Direction.Right\n                            ? {\n                                position: 'absolute',\n                                left: offset[0] + \"px\",\n                                marginTop: offset[1] + \"px\"\n                            }\n                            : {\n                                position: 'absolute',\n                                top: offset[0] + \"px\",\n                                marginLeft: offset[1] + \"px\"\n                            },\n                        key: \"mark\" + index,\n                        ref: _this.markRefs[index]\n                    },\n                    index: index\n                });\n            }), values.map(function (value, index) {\n                var isDragged = _this.state.draggedThumbIndex === index;\n                return renderThumb({\n                    index: index,\n                    value: value,\n                    isDragged: isDragged,\n                    props: {\n                        style: {\n                            position: 'absolute',\n                            zIndex: thumbZIndexes[index],\n                            cursor: disabled ? 'inherit' : isDragged ? 'grabbing' : 'grab',\n                            userSelect: 'none',\n                            touchAction: 'none',\n                            WebkitUserSelect: 'none',\n                            MozUserSelect: 'none',\n                            msUserSelect: 'none'\n                        },\n                        key: index,\n                        tabIndex: disabled ? undefined : 0,\n                        'aria-valuemax': allowOverlap ? max : values[index + 1] || max,\n                        'aria-valuemin': allowOverlap ? min : values[index - 1] || min,\n                        'aria-valuenow': value,\n                        draggable: false,\n                        ref: _this.thumbRefs[index],\n                        role: 'slider',\n                        onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n                        onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp\n                    }\n                });\n            }))\n        });\n    };\n    Range.defaultProps = {\n        step: 1,\n        direction: types_1.Direction.Right,\n        rtl: false,\n        disabled: false,\n        allowOverlap: false,\n        draggableTrack: false,\n        min: 0,\n        max: 100\n    };\n    return Range;\n}(React.Component));\nexports.default = Range;\n"]},"metadata":{},"sourceType":"script"}