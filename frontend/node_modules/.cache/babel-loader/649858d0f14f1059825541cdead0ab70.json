{"ast":null,"code":"import _objectSpread from\"D:/projects React/proShop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:/projects React/proShop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/projects React/proShop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Carousel,Row,Col,Image,ListGroup,Button,Form}from'react-bootstrap';//\nimport Rating from'../components/Rating';import Message from'../components/Message';import Loader from'../components/Loader';import Meta from'../components/Meta';import Product from'../components/Product';import Slider from\"react-slick\";import{listProductDetails,createProductReview,listSameProductsByBrand}from'../actions/productActions';import{PRODUCT_CREATE_REVIEW_RESET}from'../constants/productConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(_ref){var history=_ref.history,match=_ref.match;var sizeF=['36','37','38','39','40','41','42'];var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),comment=_useState6[0],setComment=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),size=_useState8[0],setSize=_useState8[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;var productSame=useSelector(function(state){return state.productSame;});var loading1=productSame.loading,error1=productSame.error,productsTopRatedByBrand=productSame.products;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var productReviewCreate=useSelector(function(state){return state.productReviewCreate;});var errorProductReview=productReviewCreate.error,successProductReview=productReviewCreate.success;var settings={dots:true,infinite:true,speed:600,slidesToShow:4,slidesToScroll:1,autoplay:true,arrows:true,autoplaySpeed:2000,pauseOnFocus:true,swipeToSlide:true};useEffect(function(){dispatch(listProductDetails(match.params.id));if(product.brand){dispatch(listSameProductsByBrand(product.brand));}if(successProductReview){alert('Review Submited !');setRating(0);setComment('');dispatch({type:PRODUCT_CREATE_REVIEW_RESET});}},[dispatch,match,successProductReview,product.brand]);var addToCartHandler=function addToCartHandler(){console.log('---'+size);history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty,\"&size=\").concat(size));//  &size=${size}\n};var submitHandler=function submitHandler(e){e.preventDefault();dispatch(createProductReview(match.params.id,{rating:rating,comment:comment}));};return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\" \",error,\" \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go back\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Meta,{title:product.name}),/*#__PURE__*/_jsxs(\"ol\",{class:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{class:\"breadcrumb-item\",children:\"Product\"}),/*#__PURE__*/_jsx(\"li\",{class:\"breadcrumb-item active\",children:product.name})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:5,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Carousel,{time:1500,automatic:true,slideNumber:true,dots:true,slideImageFit:\"cover\",thumbnails:true,thumbnailWidth:\"100px\",pauseIconColor:\"white\",pauseIconSize:\"40px\",pause:\"hover\",variant:\"dark\",children:[product.images&&product.images[0]&&/*#__PURE__*/_jsx(Carousel.Item,{interval:1800,children:/*#__PURE__*/_jsx(Image,{src:product.images&&product.images[0]&&product.images[0].url,alt:product.name,thumbnail:true})}),product.images&&product.images[2]&&/*#__PURE__*/_jsx(Carousel.Item,{interval:1800,children:/*#__PURE__*/_jsx(Image,{src:product.images&&product.images[2]&&product.images[2].url,alt:product.name,thumbnail:true})}),product.images&&product.images[1]&&/*#__PURE__*/_jsx(Carousel.Item,{interval:1800,children:/*#__PURE__*/_jsx(Image,{src:product.images&&product.images[1]&&product.images[1].url,alt:product.name,thumbnail:true})}),product.images&&product.images[3]&&/*#__PURE__*/_jsx(Carousel.Item,{interval:1800,children:/*#__PURE__*/_jsx(Image,{src:product.images&&product.images[3]&&product.images[3].url,alt:product.name,thumbnail:true})})]})})}),/*#__PURE__*/_jsx(Col,{md:1}),/*#__PURE__*/_jsx(Col,{md:5,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{style:{padding:\"12px\"},children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\")})}),/*#__PURE__*/_jsxs(ListGroup.Item,{style:{padding:\"12px\"},children:[\"Price : $\",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:\"Decription :\"})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:product.description})})]}),/*#__PURE__*/_jsx(ListGroup.Item,{style:{padding:\"12px\"},children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:\"Status : \".concat(product.countInStock>0?'In Stock':'Out of Stock')})})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Quantity :\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Size :\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:size,onChange:function onChange(e){return setSize(e.target.value);},children:[sizeF.map(function(s){return/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s);}),!size&&setSize(\"36\")]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:product.countInStock===0,children:\"Add to cart\"})})})})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:5,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Customer Reviews\"}),product.reviews.length===0&&/*#__PURE__*/_jsx(Message,{children:\"No Reviews\"}),/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:product.reviews.map(function(review){return/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:review.name}),/*#__PURE__*/_jsx(Rating,{value:review.rating}),/*#__PURE__*/_jsx(\"p\",{children:review.createdAt.substring(0,10)}),/*#__PURE__*/_jsx(\"p\",{children:review.comment})]},review._id);})}),/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Write YOUR Review\"}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[errorProductReview&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorProductReview}),userInfo?/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"rating\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Rating\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:rating,onChange:function onChange(e){return setRating(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1 - Poor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2 - Fair\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3 - Good\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4 - Very good\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5 - Excellent\"})]})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"comment\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Comment\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",value:comment,onChange:function onChange(e){return setComment(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Submit\"})]}):/*#__PURE__*/_jsxs(Message,{children:[\" Please \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\" Sign in \"}),\" to write a review \",' ',\" \"]})]})]})]})}),/*#__PURE__*/_jsx(Row,{children:loading1?/*#__PURE__*/_jsx(Loader,{}):error1?/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\" \",error1,\" \"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"YOU MIGHT ALSO LOVE\"}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},settings),{},{children:productsTopRatedByBrand.map(function(product){return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Product,{product:product})},product._id),/*#__PURE__*/_jsx(Col,{md:1})]});})}))})]})})]})});};export default ProductScreen;","map":{"version":3,"sources":["D:/projects React/proShop/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","Carousel","Row","Col","Image","ListGroup","Button","Form","Rating","Message","Loader","Meta","Product","Slider","listProductDetails","createProductReview","listSameProductsByBrand","PRODUCT_CREATE_REVIEW_RESET","ProductScreen","history","match","sizeF","qty","setQty","rating","setRating","comment","setComment","size","setSize","dispatch","productDetails","state","loading","error","product","productSame","loading1","error1","productsTopRatedByBrand","products","userLogin","userInfo","productReviewCreate","errorProductReview","successProductReview","success","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","arrows","autoplaySpeed","pauseOnFocus","swipeToSlide","params","id","brand","alert","type","addToCartHandler","console","log","push","submitHandler","e","preventDefault","name","images","url","padding","numReviews","price","description","countInStock","target","value","Array","keys","map","x","s","reviews","length","review","createdAt","substring","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Carousel, Row, Col, Image, ListGroup, Button, Form } from 'react-bootstrap' //\r\nimport Rating from '../components/Rating'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport Meta from '../components/Meta'\r\nimport Product from '../components/Product'\r\nimport Slider from \"react-slick\";\r\nimport { listProductDetails, createProductReview, listSameProductsByBrand } from '../actions/productActions'\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants'\r\n\r\nconst ProductScreen = ({ history, match }) => {\r\n    const sizeF = [\r\n        '36',\r\n        '37',\r\n        '38',\r\n        '39',\r\n        '40',\r\n        '41',\r\n        '42',\r\n    ]\r\n    const [qty, setQty] = useState(1)\r\n    const [rating, setRating] = useState(0)\r\n    const [comment, setComment] = useState('')\r\n    const [size, setSize] = useState('')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const productDetails = useSelector(state => state.productDetails)\r\n    const { loading, error, product } = productDetails\r\n\r\n    const productSame = useSelector(state => state.productSame)\r\n    const { loading: loading1, error: error1, products: productsTopRatedByBrand } = productSame\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const productReviewCreate = useSelector(state => state.productReviewCreate)\r\n    const { error: errorProductReview, success: successProductReview } = productReviewCreate\r\n\r\n\r\n    const settings = {\r\n        dots: true,\r\n        infinite: true,\r\n        speed: 600,\r\n        slidesToShow: 4,\r\n        slidesToScroll: 1,\r\n        autoplay: true,\r\n        arrows: true,\r\n        autoplaySpeed: 2000,\r\n        pauseOnFocus: true,\r\n        swipeToSlide: true\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(listProductDetails(match.params.id))\r\n\r\n        if (product.brand) {\r\n            dispatch(listSameProductsByBrand(product.brand))\r\n        }\r\n\r\n        if (successProductReview) {\r\n            alert('Review Submited !')\r\n            setRating(0)\r\n            setComment('')\r\n            dispatch({ type: PRODUCT_CREATE_REVIEW_RESET })\r\n\r\n        }\r\n\r\n    }, [dispatch, match, successProductReview, product.brand])\r\n\r\n    const addToCartHandler = () => {\r\n        console.log('---' + size);\r\n        history.push(`/cart/${match.params.id}?qty=${qty}&size=${size}`)\r\n        //  &size=${size}\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(createProductReview(match.params.id, { rating, comment }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                loading\r\n                    ? <Loader />\r\n                    : error\r\n                        ? <Message variant='danger' > {error} <Link to='/'>\r\n                            Go back\r\n                        </Link></Message>\r\n                        : (\r\n                            <>\r\n\r\n                                <Meta title={product.name} />\r\n                                <ol class=\"breadcrumb\">\r\n                                    <li class=\"breadcrumb-item\"><a href=\"/\">Home</a></li>\r\n                                    <li class=\"breadcrumb-item\">Product</li>\r\n                                    <li class=\"breadcrumb-item active\">{product.name}</li>\r\n                                </ol>\r\n                                <Row>\r\n                                    <Col md={5} >\r\n                                        <Row>\r\n                                            {/* <Image src={product.images && product.images[0].url} alt={product.name} fluid />\r\n                                            {product.images && product.images[0] && (\r\n                                                <Col md={3}>\r\n                                                    <Image src={product.images && product.images[0] && product.images[0].url} alt={product.name} fluid />\r\n                                                </Col>)\r\n                                            }\r\n                                            {product.images && product.images[2] && (\r\n                                                <Col md={3}>\r\n                                                    <Image src={product.images && product.images[2] && product.images[2].url} alt={product.name} fluid />\r\n                                                </Col>)\r\n                                            }\r\n                                            {product.images && product.images[1] && (\r\n                                                <Col md={3}>\r\n                                                    <Image src={product.images && product.images[1] && product.images[1].url} alt={product.name} fluid />\r\n                                                </Col>)\r\n                                            }\r\n                                            {product.images && product.images[3] && (\r\n                                                <Col md={3}>\r\n                                                    <Image src={product.images && product.images[3] && product.images[3].url} alt={product.name} fluid />\r\n                                                </Col>)\r\n                                            } */}\r\n\r\n                                            <Carousel\r\n                                           \r\n                                                time={1500}\r\n                                                automatic={true}\r\n                                                slideNumber={true}\r\n                                                dots={true}\r\n                                                slideImageFit=\"cover\"\r\n                                                thumbnails={true}\r\n                                                thumbnailWidth=\"100px\"\r\n                                                pauseIconColor=\"white\"\r\n                                                pauseIconSize=\"40px\"\r\n                                                pause='hover'\r\n                                                variant=\"dark\">\r\n                                                {product.images && product.images[0] &&\r\n                                                    <Carousel.Item interval={1800}>\r\n                                                        <Image src={product.images && product.images[0] && product.images[0].url} alt={product.name} thumbnail />\r\n                                                    </Carousel.Item>\r\n                                                }\r\n                                                {product.images && product.images[2] &&\r\n                                                    <Carousel.Item interval={1800}>\r\n                                                        <Image src={product.images && product.images[2] && product.images[2].url} alt={product.name} thumbnail />\r\n                                                    </Carousel.Item>\r\n                                                }\r\n                                                {product.images && product.images[1] &&\r\n                                                    <Carousel.Item interval={1800}>\r\n                                                        <Image src={product.images && product.images[1] && product.images[1].url} alt={product.name} thumbnail />\r\n                                                    </Carousel.Item>\r\n                                                }\r\n                                                {product.images && product.images[3] &&\r\n                                                    <Carousel.Item interval={1800}>\r\n                                                        <Image src={product.images && product.images[3] && product.images[3].url} alt={product.name} thumbnail />\r\n                                                    </Carousel.Item>\r\n                                                }\r\n                                            </Carousel>\r\n                                        </Row>\r\n                                    </Col>\r\n                                    {/* <Col md={5} >\r\n                                        <Row>\r\n                                            <img src={product.images && product.images[0] && product.images[0].url} width=\"100%\" id=\"ProductImg\" />\r\n\r\n                                            <div class=\"small-img-row\">\r\n                                                <div class=\"small-img-col\">\r\n                                                    <img src={product.images && product.images[0] && product.images[0].url} width=\"100%\" class=\"small-img\" />\r\n                                                </div>\r\n                                                <div class=\"small-img-col\">\r\n                                                    <img src={product.images && product.images[1] && product.images[1].url} width=\"100%\" class=\"small-img\" />\r\n                                                </div>\r\n                                                <div class=\"small-img-col\">\r\n                                                    <img src={product.images && product.images[2] && product.images[2].url} width=\"100%\" class=\"small-img\" />\r\n                                                </div>\r\n                                                <div class=\"small-img-col\">\r\n                                                    <img src={product.images && product.images[3] && product.images[3].url} width=\"100%\" class=\"small-img\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Row>\r\n                                    </Col> */}\r\n                                    <Col md={1} />\r\n\r\n                                    <Col md={5}>\r\n                                        <ListGroup variant='flush'>\r\n                                            <ListGroup.Item>\r\n                                                <h3>{product.name}</h3>\r\n                                            </ListGroup.Item>\r\n\r\n                                            <ListGroup.Item style={{ padding: \"12px\" }}>\r\n                                                <Rating\r\n                                                    value={product.rating}\r\n                                                    text={`${product.numReviews} reviews`} />\r\n                                            </ListGroup.Item>\r\n\r\n                                            <ListGroup.Item style={{ padding: \"12px\" }}>\r\n                                                Price : ${product.price}\r\n                                            </ListGroup.Item>\r\n\r\n                                            <ListGroup.Item>\r\n                                                <Row>\r\n                                                    <Col>\r\n                                                        Decription :\r\n                                                    </Col>\r\n                                                </Row>\r\n                                                <Row>\r\n                                                    <Col>{product.description}</Col>\r\n                                                </Row>\r\n\r\n                                            </ListGroup.Item>\r\n\r\n                                            <ListGroup.Item style={{ padding: \"12px\" }}>\r\n                                                <Row>\r\n                                                    <Col>\r\n                                                        {`Status : ${product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}`}\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </ListGroup.Item>\r\n\r\n                                            {product.countInStock > 0 && (\r\n                                                <ListGroup.Item>\r\n                                                    <Row>\r\n                                                        <Col>Quantity :</Col>\r\n                                                        <Col>\r\n                                                            <Form.Control\r\n                                                                as='select' value={qty}\r\n                                                                onChange={(e) => setQty(e.target.value)}>\r\n                                                                {\r\n                                                                    [...Array(product.countInStock).keys()].map(x => (\r\n                                                                        <option key={x + 1} value={x + 1}>\r\n                                                                            {x + 1}\r\n                                                                        </option>\r\n                                                                    ))\r\n                                                                }\r\n                                                            </Form.Control>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </ListGroup.Item>\r\n                                            )}\r\n                                            <ListGroup.Item>\r\n                                                <Row>\r\n                                                    <Col>Size :</Col>\r\n                                                    <Col>\r\n                                                        <Form.Control\r\n                                                            as='select' value={size}\r\n                                                            onChange={(e) => setSize(e.target.value)}>\r\n                                                            {\r\n                                                                sizeF.map(s => (\r\n                                                                    <option key={s} value={s}>\r\n                                                                        {s}\r\n                                                                    </option>\r\n                                                                ))\r\n                                                            }\r\n\r\n                                                            {!size && setSize(\"36\")}\r\n                                                        </Form.Control>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </ListGroup.Item>\r\n                                            <ListGroup.Item>\r\n                                                <Row>\r\n                                                    <Col>\r\n                                                        <Button\r\n                                                            onClick={addToCartHandler}\r\n                                                            className='btn-block'\r\n                                                            type='button'\r\n                                                            disabled={product.countInStock === 0}>\r\n                                                            Add to cart\r\n                                                        </Button>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </ListGroup.Item>\r\n\r\n                                        </ListGroup>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col md={5}>\r\n                                        <h2>Customer Reviews</h2>\r\n                                        {product.reviews.length === 0 && <Message>No Reviews</Message>}\r\n                                        <ListGroup variant='flush'>\r\n                                            {product.reviews.map(review => (\r\n                                                <ListGroup.Item key={review._id}>\r\n                                                    <strong>{review.name}</strong>\r\n                                                    <Rating value={review.rating} />\r\n                                                    <p>{review.createdAt.substring(0, 10)}</p>\r\n                                                    <p>{review.comment}</p>\r\n                                                </ListGroup.Item>\r\n                                            ))}\r\n                                        </ListGroup>\r\n\r\n                                        <ListGroup variant='flush'>\r\n                                            <h2>Write YOUR Review</h2>\r\n                                            <ListGroup.Item>\r\n                                                {errorProductReview && <Message variant='danger'>{errorProductReview}</Message>}\r\n                                                {userInfo\r\n                                                    ? (\r\n                                                        <Form onSubmit={submitHandler}>\r\n                                                            <Form.Group controlId='rating'>\r\n                                                                <Form.Label>Rating</Form.Label>\r\n                                                                <Form.Control\r\n                                                                    as='select'\r\n                                                                    value={rating}\r\n                                                                    onChange={(e) => setRating(e.target.value)}>\r\n                                                                    <option value=''>Select...</option>\r\n                                                                    <option value='1'>1 - Poor</option>\r\n                                                                    <option value='2'>2 - Fair</option>\r\n                                                                    <option value='3'>3 - Good</option>\r\n                                                                    <option value='4'>4 - Very good</option>\r\n                                                                    <option value='5'>5 - Excellent</option>\r\n                                                                </Form.Control>\r\n                                                            </Form.Group>\r\n                                                            <Form.Group controlId='comment'>\r\n                                                                <Form.Label>Comment</Form.Label>\r\n                                                                <Form.Control\r\n                                                                    as='textarea'\r\n                                                                    value={comment}\r\n                                                                    onChange={(e) => setComment(e.target.value)}>\r\n\r\n                                                                </Form.Control>\r\n                                                            </Form.Group>\r\n                                                            <Button type='submit' variant='primary'>\r\n                                                                Submit\r\n                                                            </Button>\r\n                                                        </Form>\r\n                                                    )\r\n                                                    : <Message> Please <Link to='/login'> Sign in </Link> to write a review {' '} </Message>}\r\n                                            </ListGroup.Item>\r\n                                        </ListGroup>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    {\r\n                                        loading1 ? <Loader />\r\n                                            : error1 ? <Message variant='danger'> {error1} </Message>\r\n                                                : (\r\n                                                    <>\r\n                                                        <h2>YOU MIGHT ALSO LOVE</h2>\r\n                                                        <Row>\r\n                                                            <Slider {...settings}>\r\n                                                                {productsTopRatedByBrand.map((product) => (\r\n                                                                    <Row>\r\n                                                                        <Col key={product._id}>\r\n                                                                            <Product product={product} />\r\n                                                                        </Col>\r\n                                                                        <Col md={1} />\r\n                                                                    </Row>\r\n                                                                ))}\r\n                                                            </Slider>\r\n                                                        </Row>\r\n                                                    </>\r\n                                                )\r\n                                    }\r\n                                </Row>\r\n\r\n                            </>\r\n                        )\r\n            }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductScreen\r\n"]},"metadata":{},"sourceType":"module"}